<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Serialization,.NET Framework,1990s,Abstract data type,ActiveX,Ambrai Smalltalk,Binary XML,Boost library,Byte ordering,C++,CORBA" />
<link rel="shortcut icon"  />
<link rel="search" type="application/opensearchdescription+xml"  />
<link rel="copyright"  />
		<title>Serialization - Wikipedia, the free encyclopedia</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins-1.5/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print"  />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/skins-1.5/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/skins-1.5/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">
			var skin = "monobook";
			var stylepath = "/skins-1.5";

			var wgArticlePath = "/wiki/$1";
			var wgScriptPath = "/w";
			var wgServer = "http://en.wikipedia.org";
                        
			var wgCanonicalNamespace = "";
			var wgNamespaceNumber = 0;
			var wgPageName = "Serialization";
			var wgTitle = "Serialization";
			var wgArticleId = 28555;
			var wgIsArticle = true;
                        
			var wgUserName = null;
			var wgUserLanguage = "en";
			var wgContentLanguage = "en";
		</script>
		                
		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=2678400";
/*]]>*/</style>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js"></script>
	</head>
<body  class="mediawiki ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><div style="text-align:right; font-size:80%">Your <b><a  class="extiw" title="wikimedia:Fundraising">continued donations</a></b> keep Wikipedia running!&nbsp;&nbsp;&nbsp;&nbsp;</div>
</div>		<h1 class="firstHeading">Serialization</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a >navigation</a>, <a >search</a></div>			<!-- start content -->
			<dl>
<dd><span class="dablink"><i>For the term in publishing, see <a href="/wiki/Serial.html" title="Serial">serial</a>.</i></span></dd>
</dl>
<dl>
<dd>
<div class="dablink"><i>For other uses, see <a href="/wiki/Serialization_%28disambiguation%29.html" title="Serialization (disambiguation)">Serialization (disambiguation)</a>.</i></div>
</dd>
</dl>
<p>In an older <a href="/wiki/Computer_science.html" title="Computer science">computer science</a> context, <b>serialization</b> means to force one-at-a-time access for the purposes of <a href="/wiki/Concurrency_control.html" title="Concurrency control">concurrency control</a>. For example, a single-threaded <a href="/wiki/ActiveX.html" title="ActiveX">ActiveX</a> server can process only one request at a time; thus requests are queued and executed in the order made.</p>
<p>In a more modern computer science context, <b>serialization</b> is the process of saving an <a href="/wiki/Object_%28computer_science%29.html" title="Object (computer science)">object</a> onto a storage medium (such as a <a href="/wiki/Computer_file.html" title="Computer file">file</a>, or a memory buffer) or to transmit it across a <a href="/wiki/Computer_network.html" title="Computer network">network</a> connection link (such as a <a href="/wiki/Socket#Computer_sockets.html" title="Socket">socket</a>), either as a series of bytes or in some human-readable format such as <a href="/wiki/XML.html" title="XML">XML</a>. The series of bytes or the format can be used to re-create an object that is identical in its internal state to the original object (actually a clone). This type of serialization is used mostly to transport an object across a network, to persist objects to a file or database, or to distribute identical objects to several applications or locations.</p>
<ul>
<li>This process of serializing an object is also called <b>deflating</b> an object or <b>marshalling</b> an object.</li>
<li>The opposite operation, extracting a data structure from a series of bytes, is <b>deserialization</b> (which is also called <b>inflating</b> or <b>unmarshalling</b> ).</li>
</ul>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a ><span class="tocnumber">1</span> <span class="toctext">Uses</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">2</span> <span class="toctext">Consequences</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">3</span> <span class="toctext">Human-readable serialization</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">4</span> <span class="toctext">Programming language support</span></a>
<ul>
<li class="toclevel-2"><a ><span class="tocnumber">4.1</span> <span class="toctext">Objective-C</span></a>
<ul>
<li class="toclevel-3"><a ><span class="tocnumber">4.1.1</span> <span class="toctext">Example</span></a>
<ul>
<li class="toclevel-4"><a ><span class="tocnumber">4.1.1.1</span> <span class="toctext">Sender.h</span></a></li>
<li class="toclevel-4"><a ><span class="tocnumber">4.1.1.2</span> <span class="toctext">Sender.m</span></a></li>
<li class="toclevel-4"><a ><span class="tocnumber">4.1.1.3</span> <span class="toctext">Sender.c</span></a></li>
<li class="toclevel-4"><a ><span class="tocnumber">4.1.1.4</span> <span class="toctext">Receiver.h</span></a></li>
<li class="toclevel-4"><a ><span class="tocnumber">4.1.1.5</span> <span class="toctext">Receiver.m</span></a></li>
<li class="toclevel-4"><a ><span class="tocnumber">4.1.1.6</span> <span class="toctext">Receiver.c</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2"><a ><span class="tocnumber">4.2</span> <span class="toctext">Java</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.3</span> <span class="toctext">ColdFusion</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.4</span> <span class="toctext">OCaml</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.5</span> <span class="toctext">Perl</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.6</span> <span class="toctext">C++</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.7</span> <span class="toctext">Python</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.8</span> <span class="toctext">PHP</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.9</span> <span class="toctext">REBOL</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.10</span> <span class="toctext">Ruby</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.11</span> <span class="toctext">Smalltalk</span></a>
<ul>
<li class="toclevel-3"><a ><span class="tocnumber">4.11.1</span> <span class="toctext">Squeak Smalltalk</span></a></li>
<li class="toclevel-3"><a ><span class="tocnumber">4.11.2</span> <span class="toctext">Other Smalltalk dialects</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1"><a ><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">6</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<p><script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script></p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Uses">edit</a>]</div>
<p><a name="Uses" id="Uses"></a></p>
<h2>Uses</h2>
<p>Serialization has a number of advantages. It provides:</p>
<ul>
<li>a simple and robust way to make objects <a href="/wiki/Persistence.html" title="Persistence">persistent</a></li>
<li>a method of issuing <a href="/wiki/Remote_procedure_call.html" title="Remote procedure call">remote procedure calls</a>, e.g., as in <a href="/wiki/SOAP.html" title="SOAP">SOAP</a></li>
<li>a method for distributing objects, especially in <a href="/wiki/Software_componentry.html" title="Software componentry">software componentry</a> such as <a href="/wiki/Component_Object_Model.html" title="Component Object Model">COM</a>, <a href="/wiki/CORBA.html" title="CORBA">CORBA</a>, etc.</li>
</ul>
<p>For some of these features to be useful, architecture independence must be maintained. For example, for maximal use of distribution, a computer running on a different hardware architecture should be able to reliably reconstruct a serialized data stream, regardless of <a href="/wiki/Endianness.html" title="Endianness">endianness</a>. This means that the simpler and faster procedure of directly copying the memory layout of the data structure cannot work reliably for all architectures. Serializing the data structure in an architecture independent format means that we do not suffer from the problems of <a href="/wiki/Byte_ordering.html" title="Byte ordering">byte ordering</a>, memory layout, or simply different ways of representing data structures in different <a href="/wiki/Programming_language.html" title="Programming language">programming languages</a>.</p>
<p>In some forms, however, serialization has the disadvantage that since the encoding of the data is serial, merely extracting one part of the data structure that is serialized means that the entire object must be reconstructed or read before this can be done. The serialization capabilities in the <a href="/wiki/Cocoa_%28API%29.html" title="Cocoa (API)">Cocoa</a> framework, <tt>NSKeyedArchiver</tt>, alleviate the problem somewhat by allowing an object to be archived with each instance variable of the object accessible by using a key.</p>
<p>Even on a single machine, primitive <a href="/wiki/Pointer.html" title="Pointer">pointer</a> objects are too fragile to save, because the objects to which they point may be reloaded to a different location in memory. To deal with this, the serialization process includes a step called <i><a href="/wiki/Unswizzling.html" title="Unswizzling">unswizzling</a></i> or <i>pointer unswizzling</i> and the deserialization process includes a step called <i><a href="/wiki/Pointer_swizzling.html" title="Pointer swizzling">pointer swizzling</a></i>.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Consequences">edit</a>]</div>
<p><a name="Consequences" id="Consequences"></a></p>
<h2>Consequences</h2>
<p>Serialization, however, breaks the <a href="/wiki/Opacity.html" title="Opacity">opacity</a> of an <a href="/wiki/Abstract_data_type.html" title="Abstract data type">abstract data type</a> by potentially exposing private implementation details. To discourage competitors from making compatible products, publishers of <a href="/wiki/Proprietary_software.html" title="Proprietary software">proprietary software</a> often keep the details of their programs' serialization formats a <a href="/wiki/Trade_secret.html" title="Trade secret">trade secret</a>. Some deliberately <a href="/wiki/Obfuscation.html" title="Obfuscation">obfuscate</a> or even <a href="/wiki/Encryption.html" title="Encryption">encrypt</a> the serialized data.</p>
<p>Yet, interoperability requires that applications be able to understand the serialization of each other. Therefore <a href="/wiki/RMI-IIOP.html" title="RMI-IIOP">remote method call</a> architectures such as <a href="/wiki/CORBA.html" title="CORBA">CORBA</a> define their serialization formats in detail and often provide methods of checking the consistency of any serialized stream when converting it back into an object.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Human-readable serialization">edit</a>]</div>
<p><a name="Human-readable_serialization" id="Human-readable_serialization"></a></p>
<h2>Human-readable serialization</h2>
<p>In the late <a href="/wiki/1990s.html" title="1990s">1990s</a>, a push to provide an alternative to the standard serialization protocol started that uses <a href="/wiki/XML.html" title="XML">XML</a> and produces a human readable encoding. Such an encoding could be useful for persistent objects that may be read and understood by humans, or communicated to other systems regardless of programming language, but this has the disadvantage of losing the more compact, byte stream based encoding, which is generally more practical. A future solution to this dilemma could be transparent compression schemes (see <a href="/wiki/Binary_XML.html" title="Binary XML">binary XML</a>).</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Programming language support">edit</a>]</div>
<p><a name="Programming_language_support" id="Programming_language_support"></a></p>
<h2>Programming language support</h2>
<p>Several <a href="/wiki/Object-oriented_programming.html" title="Object-oriented programming">object-oriented programming</a> languages directly support <i>object serialization</i> (or <i>object archival</i>), either by <a href="/wiki/Syntactic_sugar.html" title="Syntactic sugar">syntactic sugar</a> elements or providing a standard <a href="/wiki/Interface_%28computing%29.html" title="Interface (computing)">interface</a> for doing so.</p>
<p>Some of these programming languages are <a href="/wiki/Ruby_programming_language.html" title="Ruby programming language">Ruby</a>, <a href="/wiki/Smalltalk.html" title="Smalltalk">Smalltalk</a>, <a href="/wiki/Python_programming_language.html" title="Python programming language">Python</a>, <a href="/wiki/Objective-C.html" title="Objective-C">Objective-C</a>, <a href="/wiki/Java_programming_language.html" title="Java programming language">Java</a>, and the <a href="/wiki/.NET_Framework.html" title=".NET Framework">.NET</a> family of languages.</p>
<p>There are also libraries available that add serialization support to languages that lack native support for it.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Objective-C">edit</a>]</div>
<p><a name="Objective-C" id="Objective-C"></a></p>
<h3>Objective-C</h3>
<p>In the <a href="/wiki/Objective-C.html" title="Objective-C">Objective-C</a> programming language, serialization (most commonly known as <i>archival</i>) is achieved by overriding the write: and read: methods in the Object root class. (NB This is in the GNU runtime variant of Objective-C. In the NeXT-style runtime, the implementation is very similar.)</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Example">edit</a>]</div>
<p><a name="Example" id="Example"></a></p>
<h4>Example</h4>
<p>The following example demonstrates two independent programs, a "sender", who takes the current time (as per <tt><a  class="external text" title="http://www.opengroup.org/onlinepubs/007908799/xsh/time.html">time</a></tt> in the <a href="/wiki/C_standard_library.html" title="C standard library">C standard library</a>), archives it and prints the archived form to the standard output, and a "receiver" which decodes the archived form, reconstructs the time and prints it out.</p>
<p>When compiled, we get a sender program and a receiver program. If we just execute the sender program, we will get out a serialization that looks like:</p>
<pre>
GNU TypedStream 1D@îC¡
</pre>
<p>(with a NULL character after the 1). If we pipe the two programs together, as <tt>sender | receiver</tt>, we get</p>
<pre>
received 1089356705
</pre>
<p>showing the object was serialized, sent, and reconstructed properly.</p>
<p>In essence, the sender and receiver programs could be distributed across a network connection, providing distributed object capabilities.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Sender.h">edit</a>]</div>
<p><a name="Sender.h" id="Sender.h"></a></p>
<h5>Sender.h</h5>
<pre>
#import &lt;objc/Object.h&gt;
#import &lt;time.h&gt;
#import &lt;stdio.h&gt;

@interface Sender : Object
{
   time_t  current_time;
}

- (id) setTime;
- (time_t) time;
- (id) send;
- (id) read: (TypedStream *) s;
- (id) write: (TypedStream *) s;

@end
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Sender.m">edit</a>]</div>
<p><a name="Sender.m" id="Sender.m"></a></p>
<h5>Sender.m</h5>
<pre>
#import "Sender.h"

@implementation Sender
- (id) setTime
{
   //Set the time
   current_time = time(NULL);
   return self;
}

- (time_t) time;
{
   return current_time;
}

- (id) write: (TypedStream *) stream
{
   /*
    *Write the superclass to the stream.
    *We do this so we have the complete object hierarchy,
    *not just the object itself.
    */
   [super write:stream];

   /*
    *Write the current_time out to the stream.
    *time_t is typedef for an integer.
    *The second argument, the string "i", specifies the types to write
    *as per the @encode directive.
    */
   objc_write_types(stream, "i", &amp;current_time);
   return self;
}

- (id) read: (TypedStream *) stream
{
   /*
    *Do the reverse to write: - reconstruct the superclass...
    */
   [super read:stream];

   /*
    *And reconstruct the instance variables from the stream...
    */
   objc_read_types(stream, "i", &amp;current_time);
   return self;
}

- (id) send
{
   //Convenience method to do the writing. We open stdout as our byte stream
   TypedStream *s = objc_open_typed_stream(stdout, OBJC_WRITEONLY);

   //Write the object to the stream
   [self write:s];

   //Finish up - close the stream.
   objc_close_typed_stream(s);
}
@end
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Sender.c">edit</a>]</div>
<p><a name="Sender.c" id="Sender.c"></a></p>
<h5>Sender.c</h5>
<pre>
#import "Sender.h"

int
main(void)
{
   Sender *s = [Sender new];
   [s setTime];
   [s send];

   return 0;
}
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Receiver.h">edit</a>]</div>
<p><a name="Receiver.h" id="Receiver.h"></a></p>
<h5>Receiver.h</h5>
<pre>
#import &lt;objc/Object.h&gt;
#import "Sender.h"

@interface Receiver : Object
{
   Sender *t;
}

- (id) receive;
- (id) print;
@end;
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Receiver.m">edit</a>]</div>
<p><a name="Receiver.m" id="Receiver.m"></a></p>
<h5>Receiver.m</h5>
<pre>
#import "Receiver.h"

@implementation Receiver

- (id) receive
{
   //Open stdin as our stream for reading.
   TypedStream *s = objc_open_typed_stream(stdin, OBJC_READONLY);

   //Allocate memory for, and instantiate the object from reading the stream.
   t = [[Sender alloc] read:s];
   objc_close_typed_stream(s);
}

- (id) print
{
   fprintf(stderr, "received %d\n", [t time]);
}

@end
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Receiver.c">edit</a>]</div>
<p><a name="Receiver.c" id="Receiver.c"></a></p>
<h5>Receiver.c</h5>
<pre>
#import "Receiver.h"

int
main(void)
{
   Receiver *r = [Receiver new];
   [r receive];
   [r print];

   return 0;
}
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Java">edit</a>]</div>
<p><a name="Java" id="Java"></a></p>
<h3>Java</h3>
<p>Java provides automatic serialization which requires only that the object be <a href="/wiki/Marker_interface_pattern.html" title="Marker interface pattern">marked</a> by implementing the <code><a  class="external text" title="http://java.sun.com/j2se/1.5.0/docs/api/java/io/Serializable.html">java.io.Serializable</a></code> interface. Implementing the interface marks the class as "okay to serialize," and Java then handles serialization internally. There are no serialization methods defined on the <code>Serializable</code> interface, but a serializable class can optionally define methods with certain special names and signatures that if defined, will be called as part of the serialization/deserialization process. The language also allows the developer to override the serialization process more thoroughly by implementing another interface, the <code><a  class="external text" title="http://java.sun.com/j2se/1.5.0/docs/api/java/io/Externalizable.html">Externalizable</a></code> interface, which includes two special methods that are used to save and restore the object's state.</p>
<p>There are three primary reasons why objects are not serializable by default and must implement the <code>Serializable</code> interface to access Java's serialization mechanism.</p>
<ol>
<li>Not all objects capture useful semantics in a serialized state. For example, a <code><a  class="external text" title="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Thread.html">Thread</a></code> object is tied to the state of the current <a href="/wiki/JVM.html" title="JVM">JVM</a>. There is no context in which a deserialized <code>Thread</code> object would maintain useful semantics.</li>
<li>The serialized state of an object forms part of its class' compatibility contract. Maintaining compatibility between versions of serializable classes requires additional effort and consideration. Therefore, making a class serializable needs to be deliberate design decision and not a default condition.</li>
<li>Serialization allows access to non-transient private members of a class that are not otherwise accessible. Classes containing sensitive information (for example, a password) should not be serializable or externalizable.</li>
</ol>
<p>The standard encoding method uses a simple translation of the fields into a byte stream. Primitives as well as non-transient, non-static referenced objects are encoded into the stream. Each object that is referenced by the serialized object and not marked as <tt>transient</tt> must also be serialized; and if any object in the complete graph of non-transient object references is not serializable, then serialization will fail. The developer can influence this behavior by marking objects as transient, or by redefining the serialization for an object so that the some portion of the reference graph is truncated and not serialized.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: ColdFusion">edit</a>]</div>
<p><a name="ColdFusion" id="ColdFusion"></a></p>
<h3>ColdFusion</h3>
<p><a href="/wiki/ColdFusion.html" title="ColdFusion">ColdFusion</a> allows data stuctures to be serialized to <a href="/wiki/WDDX.html" title="WDDX">WDDX</a> with the <a  class="external text" title="http://livedocs.macromedia.com/coldfusion/6.1/htmldocs/tags-c20.htm">&lt;cfwddx&gt;</a> tag.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: OCaml">edit</a>]</div>
<p><a name="OCaml" id="OCaml"></a></p>
<h3>OCaml</h3>
<p><a href="/wiki/OCaml.html" title="OCaml">OCaml</a>'s standard library provides marshalling through the <tt>Marshal</tt> module. While OCaml programming is statically type-checked, uses of the <tt>Marshal</tt> module may break type guarantees, as there is no way to check whether an unmarshalled stream represents objects of the expected type.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Perl">edit</a>]</div>
<p><a name="Perl" id="Perl"></a></p>
<h3>Perl</h3>
<p>Several <a href="/wiki/Perl.html" title="Perl">Perl</a> modules available from <a href="/wiki/CPAN.html" title="CPAN">CPAN</a> provide serialization mechanisms, including Storable and FreezeThaw.</p>
<p>Storable includes functions to serialize and deserialize Perl data structures to and from files or Perl scalars.</p>
<pre>
use Storable;

# Create a hash with some nested data structures
my %struct = ( text =&gt; 'Hello, world!', list =&gt; [1, 2, 3] );

# Serialize the hash into a file
store \%struct, 'serialized';

# Read the data back later
my $newstruct = retrieve 'serialized';
</pre>
<p>In addition to serializing directly to files, Storable includes the <tt>freeze</tt> function to return a serialized copy of the data packed into a scalar, and <tt>thaw</tt> to deserialize such a scalar. This is useful for sending a complex data structure over a network socket or storing it in a database.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: C++">edit</a>]</div>
<p><a name="C.2B.2B" id="C.2B.2B"></a></p>
<h3>C++</h3>
<p>The <a href="/wiki/Boost_library.html" title="Boost library">Boost library</a> includes a library for serializing <a href="/wiki/C%2B%2B.html" title="C++">C++</a> data structures. <a href="/wiki/XML_Data_Binding.html" title="XML Data Binding">XML Data Binding</a> implementations, such as <a  class="external text" title="http://codesynthesis.com/products/xsd/">XML Schema to C++ data binding compiler</a>, provide serialization/deserialization of C++ objects to/from <a href="/wiki/XML.html" title="XML">XML</a>.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Python">edit</a>]</div>
<p><a name="Python" id="Python"></a></p>
<h3>Python</h3>
<p><a href="/wiki/Python_programming_language.html" title="Python programming language">Python</a> implements serialization through the built-in <code><a  class="external text" title="http://docs.python.org/lib/module-pickle.html">pickle</a></code>, and to a lesser extent, the older <code><a  class="external text" title="http://docs.python.org/lib/module-marshal.html">marshal</a></code> modules. Marshal does offer the ability to serialize Python code objects, unlike pickle.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: PHP">edit</a>]</div>
<p><a name="PHP" id="PHP"></a></p>
<h3>PHP</h3>
<p><a href="/wiki/PHP.html" title="PHP">PHP</a> implements serialization through the built-in 'serialize' and 'unserialize' functions. PHP can serialize any of its datatypes except resources (file pointers, sockets, etc.).</p>
<p>For objects (as of at least PHP 4) there are two "magic methods" than can be implemented within a class — <tt>__sleep()</tt> and <tt>__wakeup()</tt> — that are called from within serialize() and unserialize(), respectively, that can clean up and restore an object. For example, it may be desirable to close a database connection on serialization and restore the connection on unserialization; this functionality would be handled in these two magic methods. They also permit the object to pick which properties are serialized.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: REBOL">edit</a>]</div>
<p><a name="REBOL" id="REBOL"></a></p>
<h3>REBOL</h3>
<p><a href="/wiki/REBOL.html" title="REBOL">REBOL</a> will serialize to file (<code>save/all</code>) or to a <code>string!</code> (<code>mold/all</code>). Strings and files can be deserialized using the <a href="/wiki/Type_polymorphism.html" title="Type polymorphism">polymorphic</a> <code>load</code> function.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Ruby">edit</a>]</div>
<p><a name="Ruby" id="Ruby"></a></p>
<h3>Ruby</h3>
<p><a href="/wiki/Ruby_programming_language.html" title="Ruby programming language">Ruby</a> include standard module <code><a  class="external text" title="http://www.ruby-doc.org/core/classes/Marshal.html">Marshal</a></code> with 2 methods <code>dump</code> and <code>restore</code>, akin to standard Unix utilities <a href="/wiki/Dump_%28program%29.html" title="Dump (program)">dump</a> and <a  class="new" title="Restore (program)">restore</a>. These methods serialize to standard class <code>String</code>, that is effectively a sequence of bytes.</p>
<p>Some objects can't be serialized (doing so would raise <code>TypeError</code> exception):</p>
<ul>
<li>bindings,</li>
<li>procedure objects,</li>
<li>instances of class IO,</li>
<li>singleton objects.</li>
</ul>
<p>If a class requires custom serialization (for example, it requires certain cleanup actions done on dumping / restoring), it can be done by implementing 2 methods: <code>_dump</code> and <code>_load</code>. The instance method <code>_dump</code> should return a <code>String</code> object containing all the information necessary to reconstitute objects of this class and all referenced objects up to a maximum depth given as an integer parameter (a value of -1 implies that depth checking should be disabled). The class method <code>_load</code> should take a <code>String</code> and return an object of this class.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Smalltalk">edit</a>]</div>
<p><a name="Smalltalk" id="Smalltalk"></a></p>
<h3>Smalltalk</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Squeak Smalltalk">edit</a>]</div>
<p><a name="Squeak_Smalltalk" id="Squeak_Smalltalk"></a></p>
<h4>Squeak Smalltalk</h4>
<p>There are a few ways in <a href="/wiki/Squeak.html" title="Squeak">Squeak Smalltalk</a> to serialize and store objects. The easiest and most used method will be shown below. Other classes of interest in Squeak for serializing objects are SmartRefStream and ImageSegment.</p>
<p>To store a Dictionary (sometimes called a <a href="/wiki/Hash_map.html" title="Hash map">Hash map</a> in other languages) containing some nonesense data of varying types into a file named "data.obj":</p>
<pre>
| data rr |
data := Dictionary new.
data at: #Meef put: 25;
        at: 23 put: 'Amanda';
        at: 'Small Numbers' put: #(0 1 2 3 four).
rr := ReferenceStream fileNamed: 'data.obj'.
rr nextPut: data; close.
</pre>
<p>To restore the Dictionary object stored in "data.obj" and bring up an</p>
<pre>
| restoredData rr |
rr := ReferenceStream fileNamed: 'data.obj'.
restoredData := rr next.
restoredData inspect.
rr close.
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Other Smalltalk dialects">edit</a>]</div>
<p><a name="Other_Smalltalk_dialects" id="Other_Smalltalk_dialects"></a></p>
<h4>Other Smalltalk dialects</h4>
<p>Object seralization is not part of the ANSI Smalltalk specification. As a result, the code to serialize an object varies by Smalltalk implementation. The resulting binary data also varies. For instance, a serialized object created in Squeak Smalltalk cannot be restored in <a href="/wiki/Ambrai_Smalltalk.html" title="Ambrai Smalltalk">Ambrai Smalltalk</a>. Consequently, various applications that do work on multiple Smalltalk implementations that rely on object serialization cannot share data between these different implementations. These applications include the MinneStore object database <a  class="external autonumber" title="http://minnestore.sourceforge.net/">[1]</a> and some <a href="/wiki/Remote_procedure_call.html" title="Remote procedure call">RPC</a> packages. A solution to this problem is SIXX <a  class="external autonumber" title="http://www.mars.dti.ne.jp/~umejava/smalltalk/sixx/index.html">[2]</a>, which is an package for multiple Smalltalks that uses an <a href="/wiki/XML.html" title="XML">XML</a>-based format for serialization.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: See also">edit</a>]</div>
<p><a name="See_also" id="See_also"></a></p>
<h2>See also</h2>
<ul>
<li><a href="/wiki/Hibernate_%28Java%29.html" title="Hibernate (Java)">Hibernate (Java)</a></li>
</ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: External links">edit</a>]</div>
<p><a name="External_links" id="External_links"></a></p>
<h2>External links</h2>
<p>For Java:</p>
<ul>
<li><a  class="external text" title="http://java.sun.com/j2se/1.5.0/docs/guide/serialization">Java Object Serialization documentation</a></li>
</ul>
<ul>
<li><a  class="external text" title="http://java.sun.com/j2se/1.5.0/docs/guide/serialization/spec/serialTOC.html">Java Object Serialization Specification</a></li>
</ul>
<ul>
<li><a  class="external text" title="http://www.macchiato.com/columns/Durable4.html">Durable Java: Serialization</a></li>
<li><a  class="external text" title="http://rpbourret.com/xml/XMLDataBinding.htm">XML Data Binding Resources</a></li>
</ul>

<!-- 
Pre-expand include size: 5993 bytes
Post-expand include size: 1345 bytes
Template argument size: 566 bytes
Maximum: 2048000 bytes
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:28555-0!1!0!default!!en!2 and timestamp 20060910153514 -->
<div class="printfooter">
Retrieved from "<a </div>
			<div id="catlinks"><p class='catlinks'><a  title="Special:Categories">Categories</a>: <span dir='ltr'><a  title="Category:Programming constructs">Programming constructs</a></span> | <span dir='ltr'><a  title="Category:Data structures">Data structures</a></span> | <span dir='ltr'><a  title="Category:Data serialization formats">Data serialization formats</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Serialization.html">Article</a></li>
				 <li id="ca-talk"><a >Discussion</a></li>
				 <li id="ca-edit"><a >Edit this page</a></li>
				 <li id="ca-history"><a >History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a >Sign in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/wiki-en.png);" href="/wiki/Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page.html">Main Page</a></li>
				<li id="n-portal"><a >Community Portal</a></li>
				<li id="n-Featured-articles"><a >Featured articles</a></li>
				<li id="n-currentevents"><a >Current events</a></li>
				<li id="n-recentchanges"><a >Recent changes</a></li>
				<li id="n-randompage"><a >Random article</a></li>
				<li id="n-help"><a >Help</a></li>
				<li id="n-contact"><a >Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a >Donations</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a >What links here</a></li>
				<li id="t-recentchangeslinked"><a >Related changes</a></li>
<li id="t-upload"><a >Upload file</a></li>
<li id="t-specialpages"><a >Special pages</a></li>
				<li id="t-print"><a >Printable version</a></li>				<li id="t-permalink"><a >Permanent link</a></li><li id="t-cite"><a >Cite this article</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-als"><a >Alemannisch</a></li>
				<li class="interwiki-ca"><a >Català</a></li>
				<li class="interwiki-de"><a >Deutsch</a></li>
				<li class="interwiki-es"><a >Español</a></li>
				<li class="interwiki-fr"><a >Français</a></li>
				<li class="interwiki-gl"><a >Galego</a></li>
				<li class="interwiki-ja"><a >日本語</a></li>
				<li class="interwiki-pl"><a >Polski</a></li>
				<li class="interwiki-ru"><a >Русский</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a ><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a ><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 03:31, 10 September 2006.</li>
				<li id="copyright">All text is available under the terms of the <a class='internal'  title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal'  title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the Wikimedia Foundation, Inc.<br /></li>
				<li id="privacy"><a  title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li id="about"><a  title="Wikipedia:About">About Wikipedia</a></li>
				<li id="disclaimer"><a  title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by srv76 in 0.664 secs. --></body></html>
