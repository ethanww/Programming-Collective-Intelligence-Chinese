<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Pipeline (Unix),Spell checker,World Wide Web,CURL,Uniform Resource Locator,Sed,Tr (program),Comm (Unix),Sort (Unix),Grep,HTML" />
<link rel="shortcut icon"  />
<link rel="search" type="application/opensearchdescription+xml"  />
<link rel="copyright"  />
		<title>Pipeline (Unix) - Wikipedia, the free encyclopedia</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins-1.5/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print"  />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/skins-1.5/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/skins-1.5/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">
			var skin = "monobook";
			var stylepath = "/skins-1.5";

			var wgArticlePath = "/wiki/$1";
			var wgScriptPath = "/w";
			var wgServer = "http://en.wikipedia.org";
                        
			var wgCanonicalNamespace = "";
			var wgNamespaceNumber = 0;
			var wgPageName = "Pipeline_(Unix)";
			var wgTitle = "Pipeline (Unix)";
			var wgArticleId = 1236117;
			var wgIsArticle = true;
                        
			var wgUserName = null;
			var wgUserLanguage = "en";
			var wgContentLanguage = "en";
		</script>
		                
		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=2678400";
/*]]>*/</style>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js"></script>
	</head>
<body  class="mediawiki ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><div style="text-align:right; font-size:80%">Your <b><a  class="extiw" title="wikimedia:Fundraising">continued donations</a></b> keep Wikipedia running!&nbsp;&nbsp;&nbsp;&nbsp;</div>
</div>		<h1 class="firstHeading">Pipeline (Unix)</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub">(Redirected from <a  title="Pipe (computing)">Pipe (computing)</a>)</div>
									<div id="jump-to-nav">Jump to: <a >navigation</a>, <a >search</a></div>			<!-- start content -->
			<div class="thumb tright">
<div style="width:182px;"><a  class="internal" title="A pipeline of three programs run on a text terminal"><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Pipeline-notitle.svg/180px-Pipeline-notitle.svg.png" alt="A pipeline of three programs run on a text terminal" width="180" height="245" longdesc="/wiki/Image:Pipeline-notitle.svg" /></a>
<div class="thumbcaption">
<div class="magnify" style="float:right"><a  class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="Enlarge" /></a></div>
A pipeline of three programs run on a text terminal</div>
</div>
</div>
<p>In <a href="/wiki/Unix-like.html" title="Unix-like">Unix-like</a> computer <a href="/wiki/Operating_system.html" title="Operating system">operating systems</a>, a <b>pipeline</b> is the original <i><a href="/wiki/Pipeline_%28software%29.html" title="Pipeline (software)">software pipeline</a></i>: a set of <a href="/wiki/Process_%28computing%29.html" title="Process (computing)">processes</a> chained by their <a href="/wiki/Standard_streams.html" title="Standard streams">standard streams</a>, so that the output of each process (<i><a href="/wiki/Stdout.html" title="Stdout">stdout</a></i>) feeds directly as input (<i><a href="/wiki/Stdin.html" title="Stdin">stdin</a></i>) of the next one. Each connection is implemented by an <a href="/wiki/Anonymous_pipe.html" title="Anonymous pipe">anonymous pipe</a>. <a href="/wiki/Filter_%28Unix%29.html" title="Filter (Unix)">Filter programs</a> are often used in this configuration. The concept was invented by <a href="/wiki/Douglas_McIlroy.html" title="Douglas McIlroy">Douglas McIlroy</a> for <a href="/wiki/Unix_shell.html" title="Unix shell">Unix shells</a> and it was named by analogy to a physical <a href="/wiki/Pipeline_transport.html" title="Pipeline transport">pipeline</a>.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a ><span class="tocnumber">1</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">2</span> <span class="toctext">Pipelines in CLIs</span></a>
<ul>
<li class="toclevel-2"><a ><span class="tocnumber">2.1</span> <span class="toctext">Error stream</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a ><span class="tocnumber">3</span> <span class="toctext">Creating pipelines programmatically</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">4</span> <span class="toctext">Implementation</span></a>
<ul>
<li class="toclevel-2"><a ><span class="tocnumber">4.1</span> <span class="toctext">Network Pipes</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a ><span class="tocnumber">5</span> <span class="toctext">History</span></a>
<ul>
<li class="toclevel-2"><a ><span class="tocnumber">5.1</span> <span class="toctext">Other Operating Systems</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a ><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">7</span> <span class="toctext">External links</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">8</span> <span class="toctext">References</span></a></li>
</ul>
</td>
</tr>
</table>
<p><script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script></p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Example">edit</a>]</div>
<p><a name="Example" id="Example"></a></p>
<h2>Example</h2>
<p>Below is an example of a pipeline that implements a kind of <a href="/wiki/Spell_checker.html" title="Spell checker">spell checker</a> for the <a href="/wiki/World_Wide_Web.html" title="World Wide Web">web</a> resource indicated by a <a href="/wiki/Uniform_Resource_Locator.html" title="Uniform Resource Locator">URL</a>. An explanation of what it does follows.</p>
<pre>
<a href="/wiki/CURL.html" title="CURL">curl</a> http://en.wikipedia.org/wiki/Pipeline | \
<a href="/wiki/Sed.html" title="Sed">sed</a> 's/[^a-zA-Z ]/ /g' | \
<a href="/wiki/Tr_%28program%29.html" title="Tr (program)">tr</a> 'A-Z ' 'a-z\n' | \
<a href="/wiki/Grep.html" title="Grep">grep</a> '[a-z]' | \
<a href="/wiki/Sort_%28Unix%29.html" title="Sort (Unix)">sort</a> -u | \
<a href="/wiki/Comm_%28Unix%29.html" title="Comm (Unix)">comm</a> -23 - /usr/dict/words
</pre>
<ul>
<li>First, <b><tt>curl</tt></b> obtains the <a href="/wiki/HTML.html" title="HTML">HTML</a> contents of a web page.</li>
<li>Second, <b><tt>sed</tt></b> removes all characters which are not spaces or letters from the web page's content, replacing them with spaces.</li>
<li>Third, <b><tt>tr</tt></b> changes all of the uppercase letters into lowercase and converts the spaces in the lines of text to newlines (each 'word' is now on a separate line).</li>
<li>Fourth, <b><tt>grep</tt></b> removes lines of <a href="/wiki/Whitespace.html" title="Whitespace">whitespace</a>.</li>
<li>Fifth, <b><tt>sort</tt></b> sorts the list of 'words' into alphabetical order, and removes duplicates.</li>
<li>Finally, <b><tt>comm</tt></b> finds which of the words in the list are not in the given dictionary file (in this case, /usr/dict/words).</li>
</ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Pipelines in CLIs">edit</a>]</div>
<p><a name="Pipelines_in_CLIs" id="Pipelines_in_CLIs"></a></p>
<h2>Pipelines in <a href="/wiki/Command_line_interface.html" title="Command line interface">CLIs</a></h2>
<p>Most <a href="/wiki/Unix_shell.html" title="Unix shell">Unix shells</a> have a special syntax construct for the creation of pipelines. Typically, one simply writes the filter commands in sequence, separated by the <a href="/wiki/ASCII.html" title="ASCII">ASCII</a> <a href="/wiki/Vertical_bar.html" title="Vertical bar">vertical bar</a> character "|" (which, for this reason, is often called "pipe character" by Unix users). The shell starts the processes and arranges for the necessary connections between their standard streams (including some amount of <a href="/wiki/Buffer.html" title="Buffer">buffer</a> storage).</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Error stream">edit</a>]</div>
<p><a name="Error_stream" id="Error_stream"></a></p>
<h3>Error stream</h3>
<p>By default, the standard error streams ("<a href="/wiki/Stderr.html" title="Stderr">stderr</a>") of the processes in a pipeline are not passed on through the pipe; instead, they are merged and directed to the <a href="/wiki/Computer_console.html" title="Computer console">console</a>. However, many shells have additional syntax for changing this behaviour. In the <a href="/wiki/Csh.html" title="Csh">csh</a> shell, for instance, using "|&amp;" instead of "| " signifies that the <a href="/wiki/Standard_error.html" title="Standard error">standard error</a> stream too should be merged with the standard output and fed to the next process. The <a href="/wiki/Bourne_Shell.html" title="Bourne Shell">Bourne Shell</a> can also merge standard error, as well as redirect it to a different file.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Creating pipelines programmatically">edit</a>]</div>
<p><a name="Creating_pipelines_programmatically" id="Creating_pipelines_programmatically"></a></p>
<h2>Creating pipelines programmatically</h2>
<p>Pipelines can be created under program control. The <code>pipe()</code> <a href="/wiki/System_call.html" title="System call">system call</a> asks the operating system to construct a new <a href="/wiki/Anonymous_pipe.html" title="Anonymous pipe">anonymous pipe</a> object. This results in two new, opened file descriptors in the process: the read-only end of the pipe, and the write-only end. The pipe ends appear to be normal, anonymous <a href="/wiki/File_descriptor.html" title="File descriptor">file descriptors</a>, except that they have no ability to seek.</p>
<p>To avoid <a href="/wiki/Deadlock.html" title="Deadlock">deadlock</a> and exploit parallelism, the process with one or more new pipes will then, generally, call <code><a href="/wiki/Fork_%28computing%29.html" title="Fork (computing)">fork()</a></code> to create new processes. Each process will then close the end(s) of the pipe that it will not be using before producing or consuming any data. Alternatively, a process might create a new <a href="/wiki/Pthreads.html" title="Pthreads">thread</a> and use the pipe to communicate between them.</p>
<p><i><a href="/wiki/Named_pipe.html" title="Named pipe">Named pipes</a></i> may also be created using <code>mkfifo()</code> or <code>mknod()</code> and then presented as the input or output file to programs as they are invoked. They allow multi-path pipes to be created, and are especially effective when combined with standard error redirection, or with tee.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Implementation">edit</a>]</div>
<p><a name="Implementation" id="Implementation"></a></p>
<h2>Implementation</h2>
<p>In most Unix-like systems, all processes of a pipeline are started at the same time, with their streams appropriately connected, and managed by the <a href="/wiki/Scheduler.html" title="Scheduler">scheduler</a> together with all other processes running on the machine. An important aspect of this, setting Unix pipes apart from other pipe implementations, is the concept of <a href="/wiki/Buffer.html" title="Buffer">buffering</a>: a sending program may produce 5000 <a href="/wiki/Bytes.html" title="Bytes">bytes</a> per <a href="/wiki/Second.html" title="Second">second</a>, and a receiving program may only be able to accept 100 bytes per second, but no data are lost. Instead, the output of the sending program is held in a buffer, or <a href="/wiki/Queue.html" title="Queue">queue</a>. When the receiving program is ready to read data, the operating system sends it data from the buffer, then removes that data from the buffer. If the buffer fills up, the sending program is suspended (blocked) until the receiving program has had a chance to read some data and make room in the buffer.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Network Pipes">edit</a>]</div>
<p><a name="Network_Pipes" id="Network_Pipes"></a></p>
<h3>Network Pipes</h3>
<p>Tools like <a href="/wiki/Netcat.html" title="Netcat">netcat</a> and <a  class="new" title="Socat">socat</a> can connect pipes to TCP/IP <a href="/wiki/Socket.html" title="Socket">sockets</a>, following the Unix philosophy of "<a  class="new" title="Everything is a file">everything is a file</a>".</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: History">edit</a>]</div>
<p><a name="History" id="History"></a></p>
<h2>History</h2>
<div class="floatright"><span><a  class="image" title=""><img src="http://upload.wikimedia.org/wikipedia/en/thumb/7/7e/Automator_Icon.png/75px-Automator_Icon.png" alt="" width="75" height="75" longdesc="/wiki/Image:Automator_Icon.png" /></a></span></div>
<p>The pipeline concept and the vertical-bar notation was invented by <a href="/wiki/Douglas_McIlroy.html" title="Douglas McIlroy">Douglas McIlroy</a>, one of the authors of the early <a href="/wiki/Unix_shell.html" title="Unix shell">command shells</a>, after he noticed that much of the time they were processing the output of one program as the input to another. The idea was eventually ported to other operating systems, such as <a href="/wiki/DOS.html" title="DOS">DOS</a>, <a href="/wiki/OS/2.html" title="OS/2">OS/2</a>, <a href="/wiki/Windows_NT.html" title="Windows NT">Windows NT</a>, and <a href="/wiki/BeOS.html" title="BeOS">BeOS</a> often with the same notation.</p>
<p>The robot in the icon for <a href="/wiki/Apple_Computer.html" title="Apple Computer">Apple</a>'s <a href="/wiki/Automator_%28software%29.html" title="Automator (software)">Automator</a>, which also uses pipeline concept to chain repetitive commands together, holds a pipe as recognition of the application's Unix heritage.<sup id="_ref-automator_0" class="reference"><a  title="">[1]</a></sup></p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Other Operating Systems">edit</a>]</div>
<p><a name="Other_Operating_Systems" id="Other_Operating_Systems"></a></p>
<h3>Other Operating Systems</h3>
<p>This feature of <a href="/wiki/Unix.html" title="Unix">Unix</a> was borrowed by other operating systems, such as <a  class="new" title="Taos operating system">Taos</a> and <a href="/wiki/MS-DOS.html" title="MS-DOS">MS-DOS</a>, and eventually became the <a href="/wiki/Pipeline_%28software%29.html" title="Pipeline (software)">pipes and filters design pattern</a> of <a href="/wiki/Software_engineering.html" title="Software engineering">software engineering</a>.</p>
<p><b>Main article: <a href="/wiki/Pipeline_%28software%29.html" title="Pipeline (software)">pipeline (software)</a></b></p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: See also">edit</a>]</div>
<p><a name="See_also" id="See_also"></a></p>
<h2>See also</h2>
<ul>
<li><a href="/wiki/Tee_%28Unix%29.html" title="Tee (Unix)">Tee (Unix)</a> for fitting together two pipes</li>
<li><a href="/wiki/Pipeline_%28software%29.html" title="Pipeline (software)">Pipeline (software)</a> for the general software engineering concept.</li>
<li><a href="/wiki/Pipeline_%28computer%29.html" title="Pipeline (computer)">Pipeline (computer)</a> for other computer-related pipelines.</li>
<li><a href="/wiki/Hartmann_pipeline.html" title="Hartmann pipeline">Hartmann pipeline</a></li>
<li><a href="/wiki/Anonymous_pipe.html" title="Anonymous pipe">Anonymous pipe</a></li>
<li><a href="/wiki/Named_pipe.html" title="Named pipe">Named pipe</a></li>
</ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: External links">edit</a>]</div>
<p><a name="External_links" id="External_links"></a></p>
<h2>External links</h2>
<ul>
<li><a  class="external text" title="http://en.wikibooks.org/w/index.php?title=Ad_Hoc_Data_Analysis_From_The_Unix_Command_Line"><i>Ad Hoc Data Analysis From The Unix Command Line</i> at Wikibooks</a> shows how to use pipelines composed of simple filters to do complex data analysis.</li>
<li><a  class="external text" title="http://www.pixelbeat.org/programming/stdio_buffering/">stdio buffering</a></li>
</ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: References">edit</a>]</div>
<p><a name="References" id="References"></a></p>
<h2>References</h2>
<ul>
<li><a href="/wiki/Sal_Soghoian.html" title="Sal Soghoian">Sal Soghoian</a> on <a href="/wiki/MacBreak.html" title="MacBreak">MacBreak</a> Episode 5 "Enter the Automatrix"</li>
</ul>


<!-- Saved in parser cache with key enwiki:pcache:idhash:1236117-0!1!0!default!!en!2 and timestamp 20060828103314 -->
<div class="printfooter">
Retrieved from "<a </div>
			<div id="catlinks"><p class='catlinks'><a  title="Special:Categories">Categories</a>: <span dir='ltr'><a  title="Category:Inter-process communication">Inter-process communication</a></span> | <span dir='ltr'><a  title="Category:Unix">Unix</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Pipeline_%28Unix%29.html">Article</a></li>
				 <li id="ca-talk"><a >Discussion</a></li>
				 <li id="ca-edit"><a >Edit this page</a></li>
				 <li id="ca-history"><a >History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a >Sign in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/wiki-en.png);" href="/wiki/Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page.html">Main Page</a></li>
				<li id="n-portal"><a >Community Portal</a></li>
				<li id="n-Featured-articles"><a >Featured articles</a></li>
				<li id="n-currentevents"><a >Current events</a></li>
				<li id="n-recentchanges"><a >Recent changes</a></li>
				<li id="n-randompage"><a >Random article</a></li>
				<li id="n-help"><a >Help</a></li>
				<li id="n-contact"><a >Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a >Donations</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a >What links here</a></li>
				<li id="t-recentchangeslinked"><a >Related changes</a></li>
<li id="t-upload"><a >Upload file</a></li>
<li id="t-specialpages"><a >Special pages</a></li>
				<li id="t-print"><a >Printable version</a></li>				<li id="t-permalink"><a >Permanent link</a></li><li id="t-cite"><a >Cite this article</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-it"><a >Italiano</a></li>
				<li class="interwiki-ja"><a >日本語</a></li>
				<li class="interwiki-zh"><a >中文</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a ><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a ><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 06:15, 25 August 2006.</li>
				<li id="copyright">All text is available under the terms of the <a class='internal'  title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal'  title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the Wikimedia Foundation, Inc.<br /></li>
				<li id="privacy"><a  title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li id="about"><a  title="Wikipedia:About">About Wikipedia</a></li>
				<li id="disclaimer"><a  title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by biruni in 0.341 secs. --></body></html>
