<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Berkeley RISC,16-bit,32-bit,ACM,ALU,AMD 29000,ARPA,Berkeley University,Branch predictor,Compiler,Computer language" />
<link rel="shortcut icon"  />
<link rel="search" type="application/opensearchdescription+xml"  />
<link rel="copyright"  />
		<title>Berkeley RISC - Wikipedia, the free encyclopedia</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins-1.5/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print"  />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/skins-1.5/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/skins-1.5/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">
			var skin = "monobook";
			var stylepath = "/skins-1.5";

			var wgArticlePath = "/wiki/$1";
			var wgScriptPath = "/w";
			var wgServer = "http://en.wikipedia.org";
                        
			var wgCanonicalNamespace = "";
			var wgNamespaceNumber = 0;
			var wgPageName = "Berkeley_RISC";
			var wgTitle = "Berkeley RISC";
			var wgArticleId = 1355137;
			var wgIsArticle = true;
                        
			var wgUserName = null;
			var wgUserLanguage = "en";
			var wgContentLanguage = "en";
		</script>
		                
		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=2678400";
/*]]>*/</style>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js"></script>
	</head>
<body  class="mediawiki ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><div style="text-align:right; font-size:80%">Your <b><a  class="extiw" title="wikimedia:Fundraising">continued donations</a></b> keep Wikipedia running!&nbsp;&nbsp;&nbsp;&nbsp;</div>
</div>		<h1 class="firstHeading">Berkeley RISC</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a >navigation</a>, <a >search</a></div>			<!-- start content -->
			<p><b>Berkeley RISC</b> was one of two seminal research projects into <a href="/wiki/RISC.html" title="RISC">RISC</a>-based <a href="/wiki/Microprocessor.html" title="Microprocessor">microprocessor</a> design taking place under <a href="/wiki/ARPA.html" title="ARPA">ARPA</a>'s <a href="/wiki/VLSI_project.html" title="VLSI project">VLSI project</a>. RISC was led by David Patterson at <a href="/wiki/Berkeley_University.html" title="Berkeley University">Berkeley University</a> between 1980 and 1984, while the other was taking place only a short drive away at <a href="/wiki/Stanford_University.html" title="Stanford University">Stanford University</a> under their <a href="/wiki/MIPS_architecture.html" title="MIPS architecture">MIPS</a> effort starting in 1981 and running until 1984. Berkeley's project was so successful that it became the name for all similar designs to follow, even the MIPS would become known as a "RISC processor". The RISC design was later commercialized as the <a href="/wiki/SPARC.html" title="SPARC">SPARC</a> processor.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a ><span class="tocnumber">1</span> <span class="toctext">The RISC concept</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">2</span> <span class="toctext">RISC I</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">3</span> <span class="toctext">RISC II</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">4</span> <span class="toctext">Follow-ons</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">5</span> <span class="toctext">References</span></a></li>
</ul>
</td>
</tr>
</table>
<p><script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script></p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: The RISC concept">edit</a>]</div>
<p><a name="The_RISC_concept" id="The_RISC_concept"></a></p>
<h2>The RISC concept</h2>
<p>Both RISC and MIPS were developed from the realization that the vast majority of programs did not use the vast majority of a processor's instructions. In one calculation it was found that the entire <a href="/wiki/Unix.html" title="Unix">Unix</a> system, when <a href="/wiki/Compiler.html" title="Compiler">compiled</a>, used only 30% of the available instructions on the <a href="/wiki/Motorola_68000.html" title="Motorola 68000">Motorola 68000</a>. Much of the circuitry in the m68k, and similar designs, was dedicated to decoding these instructions which were never being used. The RISC idea was to include only those instructions that were <i>really</i> used, using those transistors to speed the system up instead.</p>
<p>To do this, RISC concentrated on adding many more <a href="/wiki/Register.html" title="Register">registers</a>, small bits of memory holding temporary values that can be accessed at zero cost. This contrasts with normal <a href="/wiki/Main_memory.html" title="Main memory">main memory</a>, which might take several cycles to access. By providing more registers, and making sure the compilers actually used them, programs should run much faster. Additionally the speed of the processor would be more closely defined by its clock speed, because less of its time would be spent waiting for memory accesses. Transistor for transistor, a RISC design would outperform a conventional CPU, hopefully by a lot.</p>
<p>On the downside, the instructions being removed were generally performing several "sub-instructions". For instance, the <code>ADD</code> instruction of a traditional design would generally come in several flavours, one that added the numbers in two registers and placed it in a third, another that added numbers found in main memory and put the result in a register, etc. The RISC designs, on the other hand, included only a single flavour of any particular instruction, the <code>ADD</code>, for instance, would <i>always</i> use registers for all operands. This forced the programmer to write additional instructions to load the values from memory, if needed, making a RISC program "less dense".</p>
<p>In the era of expensive memory this was a real concern, notably because memory was also much slower than the CPU. Since a RISC design's <code>ADD</code> would actually require four instructions (two loads, an add, and a save), the machine would have to do much more memory access to read the extra instructions, potentially slowing it down considerably. This was offset to some degree by the fact that the new designs used what was then a very large instruction word of <a href="/wiki/32-bit.html" title="32-bit">32-bits</a>, allowing small constants to be folded directly into the instruction instead of having to be loaded separately. Additionally, the results of one operation are often used soon after by another, so by skipping the write to memory and storing the result in a register, the program did not end up much larger, and could in theory run much faster. For instance, a string of instructions carrying out a series of mathematical operations might require only a few loads from memory, while the majority of the numbers being used are either loaded in the instructions themselves, or intermediate values in the registers.</p>
<p>But to the casual observer, it was not clear whether or not the RISC concept would improve performance, or even make it worse. The only way to be sure was to actually simulate it, and in test after test, every simulation showed an enormous overall benefit in performance from this design.</p>
<p>Where the two projects, RISC and MIPS, differed was in the handling of the registers. MIPS simply added lots of them and left it to the compilers to make use of them. RISC, on the other hand, added circuitry to the CPU to "help" the compiler. RISC used the concept of <a href="/wiki/Register_window.html" title="Register window">register windows</a>, in which the entire "register file" was broken down into blocks, allowing the compiler to "see" one block for global variables, and another for local variables.</p>
<p>The idea was to make one particularly common instruction, the <a href="/wiki/Procedure_call.html" title="Procedure call">procedure call</a>, extremely easy to implement in the compilers. Almost all <a href="/wiki/Computer_language.html" title="Computer language">computer languages</a> use a system known as a <i>activation record</i> or <i>stack frame</i> that contains the address of who called it, the data that was passed in, and any results that need to be returned. In the vast majority of cases these frames are small, typically with three or less inputs and one or no outputs. In the Berkeley design, then, the entire procedure stack would most likely fit entirely within the register window.</p>
<p>In this case the call into and return from a procedure is simple and extremely fast. A single instruction is called to set up a new block of registers, operands passed in on the "low end" of the new frame, and then the code jumps into the procedure. On return, the results are placed in the frame at the same end, and the code exits. The register windows are set up to overlap at the ends, meaning that the results from the call simply "appear" in the window of the code that called it, <i>with no data having to be copied</i>. Thus the common procedure call did not have to interact with main memory, greatly speeding it up.</p>
<p>On the downside, this approach meant that procedures with large numbers of local variables were problematic, and ones with less led to registers -an expensive resource- being wasted. It was Stanford's work on compilers that led them to ignore the register window concept, believing that a smart compiler could make better use of the registers than a fixed system in hardware.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: RISC I">edit</a>]</div>
<p><a name="RISC_I" id="RISC_I"></a></p>
<h2>RISC I</h2>
<p>The first attempt to productize the RISC concept was originally known as <b>Gold</b>. Work on the design started in 1980 as part of a VLSI design course, but the then-complex design proved to crash almost all existing design tools. The team had to spend considerable amounts of time improving or re-writing the tools, and even with these new tools it took just under an hour to extract the design on a <a href="/wiki/VAX.html" title="VAX">VAX 11/780</a>.</p>
<p>The final design, as <b>RISC I</b>, was published <a href="/wiki/ACM.html" title="ACM">ACM</a> in 1981. It had 44,500 transistors implementing 31 instructions and a register file containing 78 32-bit registers. This allowed for six register windows containing 14 registers each, with an additional 18 globals. The control and instruction decode section occupied only 6% of the die, whereas the typical design of the era used about 50% for the same role. The register file took up most of that space.</p>
<p>RISC I also featured a two-stage <a href="/wiki/Instruction_pipeline.html" title="Instruction pipeline">instruction pipeline</a> for additional speed, but without the complex instruction re-ordering of modern designs. This left conditional branches as a problem, because the compiler had to fill the instruction following a conditional branch (the so-called "branch delay slot"), with something selected to be "safe" (ie, not dependant on the outcome of the conditional). Sometimes the only suitable instruction was a <code>NOP</code>.</p>
<p>After a month of validation and debugging, the design was sent to the innovative <a href="/wiki/MOSIS.html" title="MOSIS">MOSIS</a> fab for production on June 22, 1981, using a 2 μm process (2,000 nanometers, in modern measurements). Here a variety of delays forced them to abandon their current masks four separate times, and wafers with working examples didn't arrive back at Berkeley until May 1982. The first working "computer", actually a checkout board, ran on June 11th. In testing the chips proved to have disappointing performance. In general an instruction took 2 μS to complete, while the original design expected them to take about 400 ns, five times faster. The precise reasons for this problem were never fully explained, although throughout testing it was clear that certain instructions did run at the expected speed, suggesting the problem was physical, not logical.</p>
<p>Had the design "worked" at full speed, performance should have been excellent. Simulations using a variety of small programs compared the 4 MHz RISC I to the 5Mhz 32-bit <a  class="new" title="VAX 11/780">VAX 11/780</a> and the 5Mhz <a href="/wiki/16-bit.html" title="16-bit">16-bit</a> <a href="/wiki/Zilog_Z8000.html" title="Zilog Z8000">Zilog Z8000</a> showed this clearly. Program size was about 30% larger than the VAX but very close to that on the Z8000, validating the argument that the higher code density of CISC designs was not actually all that impressive in reality. In terms of overall performance, the RISC I was twice as fast as the VAX, and about four times that of the Z8000. More interestingly, the programs ended up performing about the same overall amount of memory access because the large register file dramatically improved the odds the needed operand was already on-chip.</p>
<p>It is important to put this performance in context. Even if the RISC design had run slower than the VAX, it would make no difference to the importance of the design. The key issue was that RISC allowed you to produce a true 32-bit processor on a real chip die using what was already an outdated fab. Traditional designs simply couldn't do this; with so much of the chip surface dedicated to decoder logic, a true 32-bit design like the <a href="/wiki/Motorola_68020.html" title="Motorola 68020">Motorola 68020</a> required newer fabs before they became practical. On those same fabs, RISC I would have simply crushed the competition.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: RISC II">edit</a>]</div>
<p><a name="RISC_II" id="RISC_II"></a></p>
<h2>RISC II</h2>
<p>While the RISC I design ran into delays, work at Berkeley had already turned to the new <b>Blue</b> design. Work on Blue progressed slower than Gold, due both to the lack of a pressing need now that Gold was going to fab, as well as changeovers in the classes and students staffing the effort. This pace also allowed them to add in several new features that would end up improving the design considerably.</p>
<p>The key difference was a simpler cache circuitry that eliminated one line per bit (from three to two), dramatically shrinking the register file size. The change also required much tighter bus timing, but this was a small price to pay and in order to meet the needs several other parts of the design were sped up as well.</p>
<p>The savings due to the new design were tremendous. Whereas Gold contained a total of 78 registers in 6 windows, Blue contained 138 registers broken into 7 larger windows of 32 registers each, with another 10 globals. This expansion of the register file increases the chance that a given procedure can fit all of its local storage in registers, as well as increasing the nesting depth. Nevertheless the larger register file used up less transistors, and the final Blue design, fabed as <b>RISC II</b>, implemented all of the RISC instruction set with only 39,000 transistors.</p>
<p>The other major change was to include an "instruction-format expander", which invisibly "up-converted" 16-bit instructions into a 32-bit format. This allowed smaller instructions, typically things with one or no operands, like <code>NOP</code>, to be stored in memory in a smaller 16-bit format and stuff two such instructions into a single machine word. The instructions would be invisibly expanded back to 32-bit versions before they reached the <a href="/wiki/ALU.html" title="ALU">ALU</a>, meaning that no changes were needed in the core logic. This simple technique yielded a surprising 30% improvement in code density, making an otherwise identical program on Blue run faster than on Gold due to the decreased number of memory accesses.</p>
<p>RISC II proved to be much more successful in silicon, and entered testing outperforming just about any minicomputer on just about every task. For instance, performance ranged from 85% of VAX speed to 256% on a variety of loads, that is, the RISC II often outperformed the VAX by <i>two times</i>. RISC II was also benched against the famous <a href="/wiki/Motorola_68000.html" title="Motorola 68000">Motorola 68000</a>, then considered to be the best commercial chip implementation, and outperformed it by 140% to 420%</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Follow-ons">edit</a>]</div>
<p><a name="Follow-ons" id="Follow-ons"></a></p>
<h2>Follow-ons</h2>
<p>Work on the original RISC designs ended with RISC II, but the concept itself lived on at Berkeley. The basic core was re-used in <b>SOAR</b> in 1984, basically a RISC converted to run <a href="/wiki/Smalltalk.html" title="Smalltalk">Smalltalk</a> (in the same way that it could be claimed RISC ran C), and later in the similar <b>VLSI-BAM</b> that ran <a href="/wiki/PROLOG.html" title="PROLOG">PROLOG</a> instead of Smalltalk. Another effort was <b>SPUR</b>, which was a full set of chips needed to build a complete 32-bit <a href="/wiki/Workstation.html" title="Workstation">workstation</a>.</p>
<p>RISC is less famous, but more influential, for being the basis of the commercial <a href="/wiki/SPARC.html" title="SPARC">SPARC</a> processor design from <a href="/wiki/Sun_Microsystems.html" title="Sun Microsystems">Sun Microsystems</a>. It was the SPARC that first clearly demonstrated the power of the RISC concept; when they shipped in the first <a href="/wiki/SPARCstation.html" title="SPARCstation">SPARCstations</a> they outperformed anything on the market. This led to virtually every <a href="/wiki/Unix.html" title="Unix">Unix</a> vendor scrambling for a RISC design of their own, leading to designs like the <a href="/wiki/DEC_Alpha.html" title="DEC Alpha">DEC Alpha</a> and <a href="/wiki/PA-RISC_family.html" title="PA-RISC family">PA-RISC</a>, while <a href="/wiki/SGI.html" title="SGI">SGI</a> purchased <a href="/wiki/MIPS_Computer_Systems.html" title="MIPS Computer Systems">MIPS Computer Systems</a>. By 1986 most large chip vendors followed, working on efforts like the <a href="/wiki/Motorola_88000.html" title="Motorola 88000">Motorola 88000</a>, <a href="/wiki/Fairchild_Clipper.html" title="Fairchild Clipper">Fairchild Clipper</a>, <a href="/wiki/AMD_29000.html" title="AMD 29000">AMD 29000</a> and the <a href="/wiki/PowerPC.html" title="PowerPC">PowerPC</a>.</p>
<p>Techniques developed for and alongside the idea of the reduced instruction set have also been adopted in successively more powerful implementations and extensions of the traditional "complex" <a href="/wiki/X86_architecture.html" title="X86 architecture">x86 architecture</a>. Much of a modern microprocessor's transistor count is devoted to large caches, numerous <a href="/wiki/Instruction_pipeline.html" title="Instruction pipeline">pipeline</a> stages, <a href="/wiki/Superscalar.html" title="Superscalar">superscalar</a> instruction dispatch, <a href="/wiki/Branch_predictor.html" title="Branch predictor">branch prediction</a> and other modern techniques which are applicable regardless of instruction architecture. The amount of silicon dedicated to instruction decoding on a modern x86 implementation is proportionately quite small, so the distinction between "complex" and RISC processor implementations has become blurred.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: References">edit</a>]</div>
<p><a name="References" id="References"></a></p>
<h2>References</h2>
<ul>
<li><a  class="external text" title="http://www.eecs.berkeley.edu/Pubs/TechRpts/1982/CSD-82-106.pdf">Design and Implementation of RISC I</a></li>
<li><a  class="external text" title="http://cs.swan.ac.uk/~csandy/cs-323/03_example_risc_ii.html">Berkeley RISC II</a></li>
</ul>


<!-- Saved in parser cache with key enwiki:pcache:idhash:1355137-0!1!0!default!!en!2 and timestamp 20060910030825 -->
<div class="printfooter">
Retrieved from "<a </div>
			<div id="catlinks"><p class='catlinks'><a  title="Special:Categories">Categories</a>: <span dir='ltr'><a  title="Category:4-letter acronyms">4-letter acronyms</a></span> | <span dir='ltr'><a  title="Category:Computing acronyms">Computing acronyms</a></span> | <span dir='ltr'><a  title="Category:Central processing unit">Central processing unit</a></span> | <span dir='ltr'><a  title="Category:Instruction processing">Instruction processing</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Berkeley_RISC.html">Article</a></li>
				 <li id="ca-talk"><a >Discussion</a></li>
				 <li id="ca-edit"><a >Edit this page</a></li>
				 <li id="ca-history"><a >History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a >Sign in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/wiki-en.png);" href="/wiki/Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page.html">Main Page</a></li>
				<li id="n-portal"><a >Community Portal</a></li>
				<li id="n-Featured-articles"><a >Featured articles</a></li>
				<li id="n-currentevents"><a >Current events</a></li>
				<li id="n-recentchanges"><a >Recent changes</a></li>
				<li id="n-randompage"><a >Random article</a></li>
				<li id="n-help"><a >Help</a></li>
				<li id="n-contact"><a >Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a >Donations</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a >What links here</a></li>
				<li id="t-recentchangeslinked"><a >Related changes</a></li>
<li id="t-upload"><a >Upload file</a></li>
<li id="t-specialpages"><a >Special pages</a></li>
				<li id="t-print"><a >Printable version</a></li>				<li id="t-permalink"><a >Permanent link</a></li><li id="t-cite"><a >Cite this article</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a ><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a ><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 00:50, 25 August 2006.</li>
				<li id="copyright">All text is available under the terms of the <a class='internal'  title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal'  title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the Wikimedia Foundation, Inc.<br /></li>
				<li id="privacy"><a  title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li id="about"><a  title="Wikipedia:About">About Wikipedia</a></li>
				<li id="disclaimer"><a  title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by srv107 in 0.099 secs. --></body></html>
