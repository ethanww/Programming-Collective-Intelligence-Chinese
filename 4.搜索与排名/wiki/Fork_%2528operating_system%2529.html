<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Fork (operating system),Pipeline (Unix),Interprocess communication,Unix shell,Filter (Unix),Overlay (operating system),C programming language,Child process,Computer multitasking,Computer process,Computing" />
<link rel="shortcut icon"  />
<link rel="search" type="application/opensearchdescription+xml"  />
<link rel="copyright"  />
		<title>Fork (operating system) - Wikipedia, the free encyclopedia</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins-1.5/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print"  />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/skins-1.5/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/skins-1.5/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">
			var skin = "monobook";
			var stylepath = "/skins-1.5";

			var wgArticlePath = "/wiki/$1";
			var wgScriptPath = "/w";
			var wgServer = "http://en.wikipedia.org";
                        
			var wgCanonicalNamespace = "";
			var wgNamespaceNumber = 0;
			var wgPageName = "Fork_(operating_system)";
			var wgTitle = "Fork (operating system)";
			var wgArticleId = 301507;
			var wgIsArticle = true;
                        
			var wgUserName = null;
			var wgUserLanguage = "en";
			var wgContentLanguage = "en";
		</script>
		                
		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=2678400";
/*]]>*/</style>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js"></script>
	</head>
<body  class="mediawiki ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><div style="text-align:right; font-size:80%">Your <b><a  class="extiw" title="wikimedia:Fundraising">continued donations</a></b> keep Wikipedia running!&nbsp;&nbsp;&nbsp;&nbsp;</div>
</div>		<h1 class="firstHeading">Fork (operating system)</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a >navigation</a>, <a >search</a></div>			<!-- start content -->
			<dl>
<dd><i>This article is about "forking" a process in a <a href="/wiki/Computer_multitasking.html" title="Computer multitasking">multitasking</a> or <a href="/wiki/Multithreading.html" title="Multithreading">multithreading</a> <a href="/wiki/Operating_system.html" title="Operating system">operating system</a>.</i></dd>
<dd><i>For other uses, see <a href="/wiki/Fork_%28disambiguation%29.html" title="Fork (disambiguation)">Fork (disambiguation)</a>.</i></dd>
</dl>
<p>A <b>fork</b>, when applied to <a href="/wiki/Computing.html" title="Computing">computing</a> is when a <a href="/wiki/Computer_process.html" title="Computer process">process</a> creates a copy of itself, which then acts as a "<a href="/wiki/Child_process.html" title="Child process">child</a>" of the original process, now called the "<a href="/wiki/Parent_process.html" title="Parent process">parent</a>". More generally, a fork in a <a href="/wiki/Multithreading.html" title="Multithreading">multithreading</a> environment means that a <a href="/wiki/Thread_%28computer_programming%29.html" title="Thread (computer programming)">thread</a> of execution is duplicated.</p>
<p>Under <a href="/wiki/Unix.html" title="Unix">Unix</a> and <a href="/wiki/Unix-like.html" title="Unix-like">Unix-like</a> <a href="/wiki/Operating_systems.html" title="Operating systems">operating systems</a>, the parent and the child operations are selected by examining the return value of the <tt>fork()</tt> <a href="/wiki/System_call.html" title="System call">system call</a>. In the child process, the return value of <tt>fork()</tt> is 0, whereas the return value in the parent process is the <a href="/wiki/Process_identifier.html" title="Process identifier">PID</a> of the newly created child process.</p>
<p>As soon as fork is called, there will be a separate address space created for the child. The child process will have an exact copy of all the segments of the parent process, though if <a href="/wiki/Copy-on-write.html" title="Copy-on-write">copy-on-write</a> semantics are implemented actual physical memory may not be assigned. Both the parent and child process may execute independent of each other.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a ><span class="tocnumber">1</span> <span class="toctext">Importance of Fork In Unix</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">2</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">4</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<p><script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script></p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Importance of Fork In Unix">edit</a>]</div>
<p><a name="Importance_of_Fork_In_Unix" id="Importance_of_Fork_In_Unix"></a></p>
<h2>Importance of Fork In Unix</h2>
<p>Forking is an important part of Unix, critical to the support of its design philosophy, which encourages the development of <a href="/wiki/Filter_%28Unix%29.html" title="Filter (Unix)">filters</a>. In Unix, a filter is a small program that reads its input from stdin, and writes its output to stdout. A pipeline of these commands can be strung together by a <a href="/wiki/Unix_shell.html" title="Unix shell">shell</a> to create new commands. For example, one can string together the output of the find(1) command and the input of the wc(1) command to create a new command that will print a count of files ending in ".cpp" found in the current directory, as follows:</p>
<pre>
$ find . -name "*.cpp" -print | wc -l
</pre>
<p>In order to accomplish this, the shell forks itself, and uses <a href="/wiki/Pipeline_%28Unix%29.html" title="Pipeline (Unix)">pipes</a>, a form of <a href="/wiki/Interprocess_communication.html" title="Interprocess communication">interprocess communication</a>, to tie the output of the find command to the input of the wc command. Two child processes are created, one for each command (find and wc). These child processes are <a href="/wiki/Overlay_%28operating_system%29.html" title="Overlay (operating system)">overlaid</a> with the code associated with the programs they are intended to execute, using the exec(3) family of system calls (in the above example, find will overlay the first child process, and wc will overlay the second child process, and the shell will use pipes to tie the output of find with the input of wc).</p>
<p>More generally, forking is also performed by the shell each time a user issues a command. A child process is created by forking the shell, and the child process is overlaid, once again by exec, with the code associated with the program to be executed.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Example">edit</a>]</div>
<p><a name="Example" id="Example"></a></p>
<h2>Example</h2>
<p>Here is some sample <a href="/wiki/C_programming_language.html" title="C programming language">C programming language</a> code to illustrate the idea of forking. The code that is in the "Child process" and "Parent process" sections are executed simultaneously.</p>
<pre>
   int pid;

   pid = fork();

   if(pid == 0)
   {
      /* Child process:
       * When fork() returns 0, we are in
       * the child process.
       * Here we count up to ten, one each second.
       */
      int j;
      for(j=0; j &lt; 10; j++)
      {
         printf("child: %d\n", j);
         sleep(1);
      }
      _exit(0); /* Note that we do not use exit() */
   }
   else if(pid &gt; 0)
   { 
      /* Parent process:
       * Otherwise, we are in the parent process.
       * Again we count up to ten.
       */
      int i;
      for(i=0; i &lt; 10; i++)
      {
         printf("parent: %d\n", i);
         sleep(1);
      }
   }
   else
   {   
      /* Error handling. */
      fprintf(stderr, "couldn't fork");
      exit(1);
   }
</pre>
<p>This code will print out the following:</p>
<pre>
 parent: 0
 child: 0
 child: 1
 parent: 1
 parent: 2
 child: 2
 child: 3
 parent: 3
 parent: 4
 child: 4
 child: 5
 parent: 5
 parent: 6
 child: 6
 child: 7
 parent: 7
 parent: 8
 child: 8
 child: 9
 parent: 9
</pre>
<p>The order of each output is determined by the kernel.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: See also">edit</a>]</div>
<p><a name="See_also" id="See_also"></a></p>
<h2>See also</h2>
<ul>
<li><a href="/wiki/Child_process.html" title="Child process">Child process</a></li>
<li><a href="/wiki/Parent_process.html" title="Parent process">Parent process</a></li>
<li><a href="/wiki/Fork_bomb.html" title="Fork bomb">Fork bomb</a></li>
<li><a href="/wiki/Fork-exec.html" title="Fork-exec">Fork-exec</a></li>
<li><a href="/wiki/Exit_%28operating_system%29.html" title="Exit (operating system)">Exit</a></li>
</ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: External links">edit</a>]</div>
<p><a name="External_links" id="External_links"></a></p>
<h2>External links</h2>
<ul>
<li><a  class="external text" title="http://opengroup.org/onlinepubs/009695399/functions/fork.html">fork() system call</a></li>
<li><a  class="external text" title="http://www.erlenstar.demon.co.uk/unix/faq_toc.html#TOC4">What does fork() do?</a></li>
</ul>


<!-- Saved in parser cache with key enwiki:pcache:idhash:301507-0!1!0!default!!en!2 and timestamp 20060909222248 -->
<div class="printfooter">
Retrieved from "<a </div>
			<div id="catlinks"><p class='catlinks'><a  title="Special:Categories">Categories</a>: <span dir='ltr'><a  title="Category:Computer programming">Computer programming</a></span> | <span dir='ltr'><a  title="Category:Operating system technology">Operating system technology</a></span> | <span dir='ltr'><a  title="Category:POSIX standards">POSIX standards</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Fork_%28operating_system%29.html">Article</a></li>
				 <li id="ca-talk"><a >Discussion</a></li>
				 <li id="ca-edit"><a >Edit this page</a></li>
				 <li id="ca-history"><a >History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a >Sign in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/wiki-en.png);" href="/wiki/Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page.html">Main Page</a></li>
				<li id="n-portal"><a >Community Portal</a></li>
				<li id="n-Featured-articles"><a >Featured articles</a></li>
				<li id="n-currentevents"><a >Current events</a></li>
				<li id="n-recentchanges"><a >Recent changes</a></li>
				<li id="n-randompage"><a >Random article</a></li>
				<li id="n-help"><a >Help</a></li>
				<li id="n-contact"><a >Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a >Donations</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a >What links here</a></li>
				<li id="t-recentchangeslinked"><a >Related changes</a></li>
<li id="t-upload"><a >Upload file</a></li>
<li id="t-specialpages"><a >Special pages</a></li>
				<li id="t-print"><a >Printable version</a></li>				<li id="t-permalink"><a >Permanent link</a></li><li id="t-cite"><a >Cite this article</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-es"><a >Español</a></li>
				<li class="interwiki-eu"><a >Euskara</a></li>
				<li class="interwiki-fr"><a >Français</a></li>
				<li class="interwiki-ja"><a >日本語</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a ><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a ><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 21:57, 9 September 2006.</li>
				<li id="copyright">All text is available under the terms of the <a class='internal'  title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal'  title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the Wikimedia Foundation, Inc.<br /></li>
				<li id="privacy"><a  title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li id="about"><a  title="Wikipedia:About">About Wikipedia</a></li>
				<li id="disclaimer"><a  title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by srv108 in 0.081 secs. --></body></html>
