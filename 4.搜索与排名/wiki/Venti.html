<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Venti,Access time,Anemoi,Bell Labs,Bucket (computing),Compact disc,DVD,Daemon (computer software),Fossil (file system),Fragmentation,Hard drive" />
<link rel="shortcut icon"  />
<link rel="search" type="application/opensearchdescription+xml"  />
<link rel="copyright"  />
		<title>Venti - Wikipedia, the free encyclopedia</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins-1.5/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print"  />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/skins-1.5/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/skins-1.5/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">
			var skin = "monobook";
			var stylepath = "/skins-1.5";

			var wgArticlePath = "/wiki/$1";
			var wgScriptPath = "/w";
			var wgServer = "http://en.wikipedia.org";
                        
			var wgCanonicalNamespace = "";
			var wgNamespaceNumber = 0;
			var wgPageName = "Venti";
			var wgTitle = "Venti";
			var wgArticleId = 2987342;
			var wgIsArticle = true;
                        
			var wgUserName = null;
			var wgUserLanguage = "en";
			var wgContentLanguage = "en";
		</script>
		                
		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=2678400";
/*]]>*/</style>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js"></script>
	</head>
<body  class="mediawiki ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><div style="text-align:right; font-size:80%">Your <b><a  class="extiw" title="wikimedia:Fundraising">continued donations</a></b> keep Wikipedia running!&nbsp;&nbsp;&nbsp;&nbsp;</div>
</div>		<h1 class="firstHeading">Venti</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a >navigation</a>, <a >search</a></div>			<!-- start content -->
			<dl>
<dd><i>For the Roman gods of the winds, see <a href="/wiki/Anemoi.html" title="Anemoi">Anemoi</a>.</i></dd>
</dl>
<p><b>Venti</b> is a network storage system that permanently stores data blocks. A 160-bit <a href="/wiki/SHA-1.html" title="SHA-1">SHA-1</a> hash of the data (called <i>score</i> by Venti) acts as the address of the data. This enforces a write-once policy since no other data block can be found with the same address. The addresses of multiple writes of the same data are identical, so duplicate data is easily identified and the data block is stored only once. Data blocks cannot be removed, making it ideal for permanent or backup storage. Venti is typically used with <a href="/wiki/Fossil_%28file_system%29.html" title="Fossil (file system)">Fossil</a> to provide a file system with permanent snapshots.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a ><span class="tocnumber">1</span> <span class="toctext">History</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">2</span> <span class="toctext">Details</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">4</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<p><script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script></p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: History">edit</a>]</div>
<p><a name="History" id="History"></a></p>
<h2>History</h2>
<p>Venti was designed and implemented by <a  class="new" title="Sean Quinlan">Sean Quinlan</a> and <a  class="new" title="Sean Dorward">Sean Dorward</a> at <a href="/wiki/Bell_Labs.html" title="Bell Labs">Bell Labs</a>. It appeared in the <a href="/wiki/Plan_9_from_Bell_Labs.html" title="Plan 9 from Bell Labs">Plan 9</a> distribution in 2002. Development has been continued by <a  class="new" title="Russ Cox">Russ Cox</a> who has reimplemented most of the server, written a library for creating datastructures (files, directories and meta-data) to store in Venti and implemented optimizations. This rewrite of Venti is now distributed in <a href="/wiki/Plan_9_from_User_Space.html" title="Plan 9 from User Space">Plan 9 from User Space</a> and will make it into the Plan 9 distribution when deemed stable for Plan 9.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Details">edit</a>]</div>
<p><a name="Details" id="Details"></a></p>
<h2>Details</h2>
<p>Venti is a <a href="/wiki/User_space.html" title="User space">user space</a> <a href="/wiki/Daemon_%28computer_software%29.html" title="Daemon (computer software)">daemon</a>. Clients connect to Venti over <a href="/wiki/Transport_Control_Protocol.html" title="Transport Control Protocol">TCP</a> and communicate using a simple <a href="/wiki/Remote_procedure_call.html" title="Remote procedure call">RPC</a>-protocol. The most important messages of the protocol are listed below. Note that there is no message to delete an address or modify data at a given address.</p>
<ul>
<li><i>read(score, type)</i>, returns the data identified by <i>score</i> and <i>type</i></li>
<li><i>write(data, type)</i>, stores <i>data</i> at the address calculated by SHA-1 hashing <i>data</i>, combined with <i>type</i>.</li>
</ul>
<p>The data block stored by Venti must be greater than 512 bytes in length and smaller than 56 kilobytes. So, if a Venti user/client wants to store larger data blocks, it has to make a datastructure (which can be stored in Venti). For example, <a href="/wiki/Fossil_%28file_system%29.html" title="Fossil (file system)">Fossil</a> uses <a href="/wiki/Hash_tree.html" title="Hash tree">hash trees</a> to store large files. Venti itself is not concerned with the contents of a data block; it does however store the <i>type</i> of a data block.</p>
<p>The design of Venti has some interesting consequences:</p>
<ul>
<li>Since writes are permanent, the file system is append-only (which allows for a simple implementation with lower chance of data-destroying bugs); no file system <a href="/wiki/Fragmentation.html" title="Fragmentation">fragmentation</a> occurs.</li>
<li>Clients can verify the correctness of the server: the score of the returned data should be the same as the address requested. Venti cannot lie since SHA-1 is a cryptographically secure hash; no data block can be found with the same address.</li>
<li>Data cannot be overwritten. If an <i>address</i> is already present, the <i>data</i> is already present.</li>
<li>There is little need for user authentication: Data can only be read if the score is known. The only potential problem is a user filling up the disks.</li>
<li>Data can be compressed without making the disk structure complicated.</li>
</ul>
<p>The data blocks are stored on <a href="/wiki/Hard_drive.html" title="Hard drive">hard drives</a>. The disks making up the available storage, typically a <a href="/wiki/Redundant_array_of_independent_disks#RAID_5.html" title="Redundant array of independent disks">RAID 5</a> configuration, is called the <i>data log</i>. This data log is split up in smaller pieces called <i>arenas</i>, which are sized so they can be written to other media such as <a href="/wiki/Compact_disc.html" title="Compact disc">CD</a>/<a href="/wiki/DVD.html" title="DVD">DVD</a> or <a href="/wiki/Magnetic_tape.html" title="Magnetic tape">magnetic tape</a>. Another set of hard drives is used for the index, which maps scores to addresses in the data log. The data structure used for the index is a <a href="/wiki/Hash_table.html" title="Hash table">hash table</a> with fixed-sized <a href="/wiki/Bucket_%28computing%29.html" title="Bucket (computing)">buckets</a>. Venti relies on the scores to be randomly distributed so buckets do not fill up. Since each lookup costs one disk <a href="/wiki/Seek_time.html" title="Seek time">seek time</a>, an index usually consists of multiple small <a href="/wiki/SCSI.html" title="SCSI">SCSI</a> hard drives with low <a href="/wiki/Access_time.html" title="Access time">access time</a>.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: See also">edit</a>]</div>
<p><a name="See_also" id="See_also"></a></p>
<h2>See also</h2>
<ul>
<li><a href="/wiki/Fossil_%28file_system%29.html" title="Fossil (file system)">Fossil</a> - snapshot file system that uses Venti for permanent storage</li>
<li><a href="/wiki/Plan_9_from_User_Space.html" title="Plan 9 from User Space">Plan 9 from User Space</a></li>
</ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: External links">edit</a>]</div>
<p><a name="External_links" id="External_links"></a></p>
<h2>External links</h2>
<ul>
<li><a  class="external text" title="http://cm.bell-labs.com/sys/doc/venti.html">Venti: a new approach to archival storage</a>, paper describing Venti</li>
<li><a  class="external text" title="http://swtch.com/plan9port/man/man7/venti.html">New Venti manual page (overview)</a>, section 1 and 8 venti manual pages also exist</li>
<li><a  class="external text" title="http://www.cs.bell-labs.com/magic/man2html/8/venti">Old Venti manual page</a>, currently in use on Plan 9.</li>
<li><a  class="external text" title="http://www.cs.bell-labs.com/magic/man2html/8/ventiaux">Old Venti utilities manual page</a>, currently in use on Plan 9.</li>
</ul>


<!-- Saved in parser cache with key enwiki:pcache:idhash:2987342-0!1!0!default!!en!2 and timestamp 20060906171139 -->
<div class="printfooter">
Retrieved from "<a </div>
			<div id="catlinks"><p class='catlinks'><a  title="Special:Categories">Category</a>: <span dir='ltr'><a  title="Category:Plan 9 from Bell Labs">Plan 9 from Bell Labs</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Venti.html">Article</a></li>
				 <li id="ca-talk" class="new"><a >Discussion</a></li>
				 <li id="ca-edit"><a >Edit this page</a></li>
				 <li id="ca-history"><a >History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a >Sign in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/wiki-en.png);" href="/wiki/Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page.html">Main Page</a></li>
				<li id="n-portal"><a >Community Portal</a></li>
				<li id="n-Featured-articles"><a >Featured articles</a></li>
				<li id="n-currentevents"><a >Current events</a></li>
				<li id="n-recentchanges"><a >Recent changes</a></li>
				<li id="n-randompage"><a >Random article</a></li>
				<li id="n-help"><a >Help</a></li>
				<li id="n-contact"><a >Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a >Donations</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a >What links here</a></li>
				<li id="t-recentchangeslinked"><a >Related changes</a></li>
<li id="t-upload"><a >Upload file</a></li>
<li id="t-specialpages"><a >Special pages</a></li>
				<li id="t-print"><a >Printable version</a></li>				<li id="t-permalink"><a >Permanent link</a></li><li id="t-cite"><a >Cite this article</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a ><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a ><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 12:37, 25 June 2006.</li>
				<li id="copyright">All text is available under the terms of the <a class='internal'  title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal'  title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the Wikimedia Foundation, Inc.<br /></li>
				<li id="privacy"><a  title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li id="about"><a  title="Wikipedia:About">About Wikipedia</a></li>
				<li id="disclaimer"><a  title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by srv83 in 0.103 secs. --></body></html>
