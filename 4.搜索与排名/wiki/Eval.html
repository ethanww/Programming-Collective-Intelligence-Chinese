<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Eval,ActionScript,Ajax (programming),Bootstrap,ColdFusion,Compiled language,Interpreted language,JSON,JavaScript,Lisp programming language,Mail merge" />
<link rel="shortcut icon"  />
<link rel="search" type="application/opensearchdescription+xml"  />
<link rel="copyright"  />
		<title>Eval - Wikipedia, the free encyclopedia</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins-1.5/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print"  />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/skins-1.5/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/skins-1.5/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">
			var skin = "monobook";
			var stylepath = "/skins-1.5";

			var wgArticlePath = "/wiki/$1";
			var wgScriptPath = "/w";
			var wgServer = "http://en.wikipedia.org";
                        
			var wgCanonicalNamespace = "";
			var wgNamespaceNumber = 0;
			var wgPageName = "Eval";
			var wgTitle = "Eval";
			var wgArticleId = 623831;
			var wgIsArticle = true;
                        
			var wgUserName = null;
			var wgUserLanguage = "en";
			var wgContentLanguage = "en";
		</script>
		                
		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=2678400";
/*]]>*/</style>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js"></script>
	</head>
<body  class="mediawiki ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><div style="text-align:right; font-size:80%">Your <b><a  class="extiw" title="wikimedia:Fundraising">continued donations</a></b> keep Wikipedia running!&nbsp;&nbsp;&nbsp;&nbsp;</div>
</div>		<h1 class="firstHeading">Eval</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a >navigation</a>, <a >search</a></div>			<!-- start content -->
			<p>In some <a href="/wiki/Programming_language.html" title="Programming language">programming languages</a>, <b>eval</b> is a <a href="/wiki/Subroutine.html" title="Subroutine">function</a> which <i>eval</i>uates a string as though it were an expression and returns a result; in others, it executes multiple lines of code as though they had been included instead of the line including the eval.</p>
<p>Eval-like functions are more common in <a href="/wiki/Interpreted_language.html" title="Interpreted language">interpreted languages</a> than in <a href="/wiki/Compiled_language.html" title="Compiled language">compiled languages</a>, since including one in a compiled language would require including an interpreter or compiler with the program, and more runtime information (such as variable names). Some compiled languages do have something similar to an eval function, see below.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a ><span class="tocnumber">1</span> <span class="toctext">Security risks</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">2</span> <span class="toctext">Uses</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">3</span> <span class="toctext">Implementation</span></a></li>
<li class="toclevel-1"><a ><span class="tocnumber">4</span> <span class="toctext">Programming languages</span></a>
<ul>
<li class="toclevel-2"><a ><span class="tocnumber">4.1</span> <span class="toctext">JavaScript &amp; ActionScript</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.2</span> <span class="toctext">Lisp</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.3</span> <span class="toctext">PHP</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.4</span> <span class="toctext">PostScript</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.5</span> <span class="toctext">Python</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.6</span> <span class="toctext">ColdFusion</span></a></li>
<li class="toclevel-2"><a ><span class="tocnumber">4.7</span> <span class="toctext">REALbasic</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a ><span class="tocnumber">5</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<p><script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script></p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Security risks">edit</a>]</div>
<p><a name="Security_risks" id="Security_risks"></a></p>
<h2>Security risks</h2>
<p>Special care must be taken when using eval with data from an untrusted source. For instance, assuming that the get_data() function gets data from the Internet, this <a href="/wiki/Python_programming_language.html" title="Python programming language">Python</a> code is insecure:</p>
<pre>
data = get_data()
foo = eval(data)
</pre>
<p>An attacker could supply the program with the string <code>"delete_system_files()"</code> as data, which would result in the program calling the delete_system_files() function. To remedy this, all data which will be used with eval must be escaped, or it must be run without access to potentially harmful functions.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Uses">edit</a>]</div>
<p><a name="Uses" id="Uses"></a></p>
<h2>Uses</h2>
<p>A call to eval is sometimes used by inexperienced programmers for all sorts of things. In most cases, there are alternatives which are more flexible and do not require the speed hit of parsing code.</p>
<p>For instance, eval is sometimes used for a simple <a href="/wiki/Mail_merge.html" title="Mail merge">mail merge</a> facility, as in this <a href="/wiki/PHP.html" title="PHP">PHP</a> example:</p>
<pre>
$name = 'John Doe';
$greeting = 'Hello';
$template = '"$greeting,  $name! How can I help you today?"';
print eval("return $template;")
</pre>
<p>Although this works, it can cause some security problems (see security risks), and will be much slower than other possible solutions. A faster and more secure solution would be simply replacing the text "$name" with the name.</p>
<p>Eval is also sometimes used in applications needing to evaluate math expressions, such as <a href="/wiki/Spreadsheet.html" title="Spreadsheet">spreadsheets</a>. This is much easier than writing an expression parser, but finding or writing one would often be a wiser choice. Besides the fixable security risks, using your language's evaluation features would most likely be slower, and wouldn't be as customizable.</p>
<p>Perhaps the best use of eval is in <a href="/wiki/Bootstrap.html" title="Bootstrap">bootstrapping</a> a new language (as with <a href="/wiki/Lisp_programming_language.html" title="Lisp programming language">Lisp</a>), and in language tutor programs which allow users to run their own programs in a controlled environment.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Implementation">edit</a>]</div>
<p><a name="Implementation" id="Implementation"></a></p>
<h2>Implementation</h2>
<p>In <a href="/wiki/Interpreted_language.html" title="Interpreted language">interpreted languages</a>, eval is almost always implemented with the same interpreter as normal code. In <a href="/wiki/Compiled_language.html" title="Compiled language">compiled languages</a>, the same compiler used to compile programs may be embedded in programs using the eval function; separate interpreters are sometimes used, though this results in <a  class="new" title="Code duplication">code duplication</a>.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Programming languages">edit</a>]</div>
<p><a name="Programming_languages" id="Programming_languages"></a></p>
<h2>Programming languages</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: JavaScript &amp; ActionScript">edit</a>]</div>
<p><a name="JavaScript_.26_ActionScript" id="JavaScript_.26_ActionScript"></a></p>
<h3>JavaScript &amp; ActionScript</h3>
<p>In <a href="/wiki/JavaScript.html" title="JavaScript">JavaScript</a> and <a href="/wiki/ActionScript.html" title="ActionScript">ActionScript</a> (Flash's programming language), eval is something of a hybrid between an expression evaluator and a statement executor. It returns the last expression evaluated (all statements are expressions in both Javascript &amp; ActionScript), and allows the final semicolon to be left off.</p>
<p>Example as an expression evaluator:</p>
<pre>
foo = 2;
alert(eval('foo + 2'));
</pre>
<p>Example as a statement executor:</p>
<pre>
foo = 2;
eval('foo = foo + 2;alert(foo);');
</pre>
<p>One use of Javascript's eval is to parse <a href="/wiki/JSON.html" title="JSON">JSON</a> text, perhaps as part of an <a href="/wiki/Ajax_%28programming%29.html" title="Ajax (programming)">Ajax</a> framework.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Lisp">edit</a>]</div>
<p><a name="Lisp" id="Lisp"></a></p>
<h3>Lisp</h3>
<p><a href="/wiki/Lisp_programming_language.html" title="Lisp programming language">Lisp</a> was the original language to make use of an eval function. In fact, definition of the eval function led to the first implementation of the language interpreter. Before the eval function was defined, Lisp functions were manually compiled to assembly language statements. However, once the eval function had been manually compiled it was then used as part of a simple input-interpret-output loop which formed the basis of the first Lisp interpreter. Later versions of the Lisp eval function have also been implemented as compilers.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: PHP">edit</a>]</div>
<p><a name="PHP" id="PHP"></a></p>
<h3>PHP</h3>
<p>In <a href="/wiki/PHP.html" title="PHP">PHP</a>, <b>eval</b> executes code in a string almost exactly as if it had been put in the file instead of the call to eval(). The only exception is that errors are reported as coming from a call to eval(), and return statements become the result of the function.</p>
<p>Example using echo:</p>
<pre>
&lt;?php
$foo = "Hello, world!\n";
eval('echo $foo;');
?&gt;
</pre>
<p>Example returning a value:</p>
<pre>
&lt;?php
$foo = "Goodbye, world!\n";
echo eval('return $foo;');
?&gt;
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: PostScript">edit</a>]</div>
<p><a name="PostScript" id="PostScript"></a></p>
<h3>PostScript</h3>
<p><a href="/wiki/PostScript.html" title="PostScript">PostScript</a>'s <tt>exec</tt> operator takes an operand - if it is a simple literal it pushes it back on the stack. If one takes a string containing a PostScript expression however, one can convert the string to an executable which then can be executed by the interpreter, for example:</p>
<pre>
((Hello World) =) cvx exec
</pre>
<p>converts the PostScript expression</p>
<pre>
(Hello World) =
</pre>
<p>which pops the string "Hello World" off the stack and displays it on the screen, to have an executable type, then is executed.</p>
<p>PostScript's <tt>run</tt> operator is similar in functionality but instead the interpreter interprets PostScript expressions in a file, itself.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Python">edit</a>]</div>
<p><a name="Python" id="Python"></a></p>
<h3>Python</h3>
<p>In <a href="/wiki/Python_%28language%29.html" title="Python (language)">Python</a>, the <tt>eval</tt> function evaluates a single expression. It cannot execute statements, but can execute functions which execute statements. The <tt>exec</tt> statement executes statements.</p>
<p><tt>eval</tt> example (interactive shell):</p>
<pre>
&gt;&gt;&gt; x = 1
&gt;&gt;&gt; eval('x + 1')
2
&gt;&gt;&gt; eval('x')
1
</pre>
<p><tt>exec</tt> example (interactive shell):</p>
<pre>
&gt;&gt;&gt; x = 1
&gt;&gt;&gt; y = 1
&gt;&gt;&gt; exec "x += 1; y -= 1"
&gt;&gt;&gt; x
2
&gt;&gt;&gt; y
0
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: ColdFusion">edit</a>]</div>
<p><a name="ColdFusion" id="ColdFusion"></a></p>
<h3>ColdFusion</h3>
<p><a href="/wiki/ColdFusion.html" title="ColdFusion">ColdFusion</a>'s <tt>evaluate</tt> function lets you evaluate a string expression at runtime.</p>
<pre>
&lt;cfset x = "int(1+1)"&gt;
&lt;cfset y = Evaluate(x)&gt;
</pre>
<p>It is particularly useful when you need to programatically choose the variable you want to read from.</p>
<pre>
&lt;cfset x = Evaluate("queryname.#columnname#[rownumber]")&gt;
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: REALbasic">edit</a>]</div>
<p><a name="REALbasic" id="REALbasic"></a></p>
<h3>REALbasic</h3>
<p>In <a href="/wiki/REALbasic_programming_language.html" title="REALbasic programming language">REALbasic</a>, there is a class called <a href="/wiki/RBScript.html" title="RBScript">RBScript</a> which can execute REALbasic code at runtime. RBScript is very sandboxed -- only the most core language features are there, you have to allow it access to things you want it to have. You can optionally assign an object to the context property. This allows for the code in RBScript to call functions and use properties of the context object. However, it is still limited to only understanding the most basic types, so if you have a function that returns a Dictionary or MySpiffyObject, RBScript will be unable to use it. You can also communicate with your RBScript through the Print and Input events.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: External links">edit</a>]</div>
<p><a name="External_links" id="External_links"></a></p>
<h2>External links</h2>
<ul>
<li><a  class="external text" title="http://www.nilbobject.com/?p=138">Jonathan Johnson on exposing classes to RBScript</a></li>
</ul>


<!-- Saved in parser cache with key enwiki:pcache:idhash:623831-0!1!0!default!!en!2 and timestamp 20060906021409 -->
<div class="printfooter">
Retrieved from "<a </div>
			<div id="catlinks"><p class='catlinks'><a  title="Special:Categories">Category</a>: <span dir='ltr'><a  title="Category:Programming constructs">Programming constructs</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Eval.html">Article</a></li>
				 <li id="ca-talk"><a >Discussion</a></li>
				 <li id="ca-edit"><a >Edit this page</a></li>
				 <li id="ca-history"><a >History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a >Sign in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/wiki-en.png);" href="/wiki/Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page.html">Main Page</a></li>
				<li id="n-portal"><a >Community Portal</a></li>
				<li id="n-Featured-articles"><a >Featured articles</a></li>
				<li id="n-currentevents"><a >Current events</a></li>
				<li id="n-recentchanges"><a >Recent changes</a></li>
				<li id="n-randompage"><a >Random article</a></li>
				<li id="n-help"><a >Help</a></li>
				<li id="n-contact"><a >Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a >Donations</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a >What links here</a></li>
				<li id="t-recentchangeslinked"><a >Related changes</a></li>
<li id="t-upload"><a >Upload file</a></li>
<li id="t-specialpages"><a >Special pages</a></li>
				<li id="t-print"><a >Printable version</a></li>				<li id="t-permalink"><a >Permanent link</a></li><li id="t-cite"><a >Cite this article</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a ><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a ><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 15:44, 30 May 2006.</li>
				<li id="copyright">All text is available under the terms of the <a class='internal'  title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal'  title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the Wikimedia Foundation, Inc.<br /></li>
				<li id="privacy"><a  title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li id="about"><a  title="Wikipedia:About">About Wikipedia</a></li>
				<li id="disclaimer"><a  title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by srv90 in 0.085 secs. --></body></html>
