<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="COFF,A.out (file format),AIX operating system,AT&amp;T,As of 2006,Base address,Binary file,C++,C programming language,Debugging,Executable" />
<link rel="shortcut icon"  />
<link rel="search" type="application/opensearchdescription+xml"  />
<link rel="copyright"  />
		<title>COFF - Wikipedia, the free encyclopedia</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins-1.5/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print"  />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/skins-1.5/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/skins-1.5/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/skins-1.5/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">
			var skin = "monobook";
			var stylepath = "/skins-1.5";

			var wgArticlePath = "/wiki/$1";
			var wgScriptPath = "/w";
			var wgServer = "http://en.wikipedia.org";
                        
			var wgCanonicalNamespace = "";
			var wgNamespaceNumber = 0;
			var wgPageName = "COFF";
			var wgTitle = "COFF";
			var wgArticleId = 328325;
			var wgIsArticle = true;
                        
			var wgUserName = null;
			var wgUserLanguage = "en";
			var wgContentLanguage = "en";
		</script>
		                
		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=2678400";
/*]]>*/</style>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js"></script>
	</head>
<body  class="mediawiki ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><div style="text-align:right; font-size:80%">Your <b><a  class="extiw" title="wikimedia:Fundraising">continued donations</a></b> keep Wikipedia running!&nbsp;&nbsp;&nbsp;&nbsp;</div>
</div>		<h1 class="firstHeading">COFF</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a >navigation</a>, <a >search</a></div>			<!-- start content -->
			<table class="infobox" style="text-align: left; width: 20em;">
<caption><b>COFF</b></caption>
<tr>
<th style="white-space: nowrap;"><a href="/wiki/Filename_extension.html" title="Filename extension">File extension</a>:</th>
<td><code>none, <tt>.o</tt></code></td>
</tr>
<tr>
<th style="white-space: nowrap;">Developed by:</th>
<td><a href="/wiki/AT%26T.html" title="AT&amp;T">AT&amp;T</a></td>
</tr>
<tr>
<th style="white-space: nowrap;">Type of format:</th>
<td><a href="/wiki/Binary_file.html" title="Binary file">Binary</a>, <a href="/wiki/Executable.html" title="Executable">executable</a>, <a href="/wiki/Object_code.html" title="Object code">object</a>, <a href="/wiki/Shared_libraries.html" title="Shared libraries">shared libraries</a></td>
</tr>
<tr>
<th style="white-space: nowrap;">Extended to:</th>
<td><a href="/wiki/XCOFF.html" title="XCOFF">XCOFF</a>, <a  class="new" title="ECOFF">ECOFF</a>, <a href="/wiki/Portable_Executable.html" title="Portable Executable">Portable Executable</a></td>
</tr>
<tr>
<td></td>
</tr>
</table>
<p>The <b>Common Object File Format</b> (<b>COFF</b>) is a <a href="/wiki/File_format.html" title="File format">file format</a> for <a href="/wiki/Executable.html" title="Executable">executables</a>, <a href="/wiki/Object_code.html" title="Object code">object code</a>, and, in later systems, <a href="/wiki/Shared_libraries.html" title="Shared libraries">shared libraries</a>; it was introduced in <a href="/wiki/Unix.html" title="Unix">Unix</a> <a href="/wiki/UNIX_System_V.html" title="UNIX System V">System V Release 3</a>, and was later used by <a href="/wiki/Microsoft.html" title="Microsoft">Microsoft</a> as the basis of the <a href="/wiki/Portable_Executable.html" title="Portable Executable">Portable Executable</a> format for <a href="/wiki/Windows_NT.html" title="Windows NT">Windows NT</a>. It was superseded by the more powerful <a href="/wiki/Executable_and_Linkable_Format.html" title="Executable and Linkable Format">ELF</a> in <a href="/wiki/UNIX_System_V.html" title="UNIX System V">System V Release 4</a>, but <a href="/wiki/As_of_2006.html" title="As of 2006">as of 2006</a>, its derivative Portable Executable is still used in Windows.</p>
<p>The original Unix object file format <a href="/wiki/A.out_%28file_format%29.html" title="A.out (file format)">a.out</a> is a very simple design, and was too limited to effectively handle the additions of SVR3, such as <a href="/wiki/Library_%28computer_science%29.html" title="Library (computer science)">shared libraries</a>. Also, a.out does not define a symbolic <a href="/wiki/Debugging.html" title="Debugging">debug</a> data format; <a  class="new" title="Stabs">stabs</a> works by encoding debug info into special symbols in the <a href="/wiki/Symbol_table.html" title="Symbol table">symbol table</a>.</p>
<p>COFF's main improvement was the introduction of multiple named <i><a href="/wiki/Section.html" title="Section">sections</a></i> in the object file. Different object files could have different numbers and types of sections. In addition, a <a  class="new" title="Debug data">debug data</a> format was defined.</p>
<p>However, the COFF design soon turned out also to be too limited; there was a limit on the maximum number of sections, a limit on the length of section names, and so forth. In addition, the debug info was really only capable of supporting <a href="/wiki/C_programming_language.html" title="C programming language">C</a> debugging; for instance, <a href="/wiki/C%2B%2B.html" title="C++">C++</a> had additional constructs that had no way to be represented, and the debug info was designed to be extensible. <a href="/wiki/IBM.html" title="IBM">IBM</a> solved this in <a href="/wiki/AIX_operating_system.html" title="AIX operating system">AIX</a> with the <a href="/wiki/XCOFF.html" title="XCOFF">XCOFF</a> format, <a href="/wiki/MIPS.html" title="MIPS">MIPS</a> and others used <a  class="new" title="ECOFF">ECOFF</a>, and <a href="/wiki/GNU.html" title="GNU">GNU</a> tools adopted the workaround of encoding stabs info, which was extensible, into special COFF sections in a technique known as <a  class="new" title="Stabs-in-coff">stabs-in-coff</a>.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: Relative Virtual Address">edit</a>]</div>
<p><a name="Relative_Virtual_Address" id="Relative_Virtual_Address"></a></p>
<h2>Relative Virtual Address</h2>
<p>When a <strong class="selflink">COFF</strong> file is generated, it is not usually known where in memory it will be loaded. The <a href="/wiki/Virtual_address.html" title="Virtual address">virtual address</a> where the first byte of the file will be loaded is called image <a href="/wiki/Base_address.html" title="Base address">base address</a>. The rest of the file is not necessarily loaded in a contiguous block, but in different <b>sections</b>.</p>
<p>Relative Virtual Addresses (RVAs) are not to be confused with standard virtual addresses. A <b>relative virtual address</b> is the <a href="/wiki/Virtual_address.html" title="Virtual address">virtual address</a> of an object from the file once it is loaded into memory, minus the base address of the file image. If the file were to be mapped literally from disk to memory, the RVA would be the same that the offset into the file, but this is actually quite unusual.</p>
<p>Note that the RVA term is only used with objects in the image file. Once loaded into memory, the image base address is added, and ordinary VAs are used.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: See also">edit</a>]</div>
<p><a name="See_also" id="See_also"></a></p>
<h2>See also</h2>
<ul>
<li><a href="/wiki/Portable_Executable.html" title="Portable Executable">Portable Executable</a></li>
</ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a  title="Edit section: External links">edit</a>]</div>
<p><a name="External_links" id="External_links"></a></p>
<h2>External links</h2>
<ul>
<li><a  class="external text" title="http://delorie.com/djgpp/doc/coff/">DJGPP COFF Spec</a></li>
<li><a  class="external text" title="http://support.microsoft.com/?id=121460">Microsoft Knowledge Base Article</a></li>
<li><a  class="external text" title="http://www.microsoft.com/whdc/system/platform/firmware/PECOFF.mspx">Microsoft Portable Executable and Common Object File Format Specification</a></li>
<li><a  class="external text" title="http://datafocus.com/docs/man1/nm.1.asp">display symbol table of object, library, or executable file</a></li>
</ul>

<!-- 
Pre-expand include size: 2886 bytes
Post-expand include size: 1014 bytes
Template argument size: 454 bytes
Maximum: 2048000 bytes
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:328325-0!1!0!default!!en!2 and timestamp 20060906011622 -->
<div class="printfooter">
Retrieved from "<a </div>
			<div id="catlinks"><p class='catlinks'><a  title="Special:Categories">Category</a>: <span dir='ltr'><a  title="Category:Executable file formats">Executable file formats</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/COFF.html">Article</a></li>
				 <li id="ca-talk"><a >Discussion</a></li>
				 <li id="ca-edit"><a >Edit this page</a></li>
				 <li id="ca-history"><a >History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a >Sign in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/wiki-en.png);" href="/wiki/Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page.html">Main Page</a></li>
				<li id="n-portal"><a >Community Portal</a></li>
				<li id="n-Featured-articles"><a >Featured articles</a></li>
				<li id="n-currentevents"><a >Current events</a></li>
				<li id="n-recentchanges"><a >Recent changes</a></li>
				<li id="n-randompage"><a >Random article</a></li>
				<li id="n-help"><a >Help</a></li>
				<li id="n-contact"><a >Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a >Donations</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a >What links here</a></li>
				<li id="t-recentchangeslinked"><a >Related changes</a></li>
<li id="t-upload"><a >Upload file</a></li>
<li id="t-specialpages"><a >Special pages</a></li>
				<li id="t-print"><a >Printable version</a></li>				<li id="t-permalink"><a >Permanent link</a></li><li id="t-cite"><a >Cite this article</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-de"><a >Deutsch</a></li>
				<li class="interwiki-hu"><a >Magyar</a></li>
				<li class="interwiki-pl"><a >Polski</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a ><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a ><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 17:42, 16 August 2006.</li>
				<li id="copyright">All text is available under the terms of the <a class='internal'  title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal'  title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the Wikimedia Foundation, Inc.<br /></li>
				<li id="privacy"><a  title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li id="about"><a  title="Wikipedia:About">About Wikipedia</a></li>
				<li id="disclaimer"><a  title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by srv14 in 0.106 secs. --></body></html>
